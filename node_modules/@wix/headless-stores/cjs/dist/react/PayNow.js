import { useService } from "@wix/services-manager-react";
import { PayNowServiceDefinition } from "../services/pay-now-service.js";
/**
 * A headless component that provides pay now functionality using the render props pattern.
 *
 * This component manages the state and actions for a "pay now" flow, allowing consumers
 * to render their own UI while accessing the underlying payment functionality.
 * @example
 * ```tsx
 * <PayNow>
 *   {({ isLoading, redirectToCheckout, error }) => (
 *     <div>
 *       {error && <div className="error">{error}</div>}
 *       <button
 *         onClick={redirectToCheckout}
 *         disabled={isLoading}
 *       >
 *         {isLoading ? 'Processing...' : 'Pay Now'}
 *       </button>
 *     </div>
 *   )}
 * </PayNow>
 * ```
 * @component
 */
export function PayNow(props) {
    const { redirectToCheckout, loadingSignal, errorSignal } = useService(PayNowServiceDefinition);
    return props.children({
        isLoading: loadingSignal.get(),
        error: errorSignal.get(),
        redirectToCheckout,
    });
}
