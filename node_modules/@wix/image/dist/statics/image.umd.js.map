{"version":3,"file":"image.umd.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;ACVA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY,MAAC,GAAG,CAAsC;;AAEtD;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,cAAc;AACd,GAAG;;AAEH;AACA;AACA;AACA;AACA,cAAc,UAAU;AACxB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,cAAc,UAAU;AACxB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA,cAAc,QAAQ;AACtB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;;AAEhB;;AAEA;AACA;;AAEA;A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","sources":["webpack://_wix_image/webpack/universalModuleDefinition","webpack://_wix_image/../../../node_modules/fastdom/fastdom.js","webpack://_wix_image/external umd \"React\"","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/defineProperty.js","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/extends.js","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/typeof.js","webpack://_wix_image/webpack/bootstrap","webpack://_wix_image/webpack/runtime/compat get default export","webpack://_wix_image/webpack/runtime/define property getters","webpack://_wix_image/webpack/runtime/hasOwnProperty shorthand","webpack://_wix_image/webpack/runtime/make namespace object","webpack://_wix_image/./Image.module.scss?724e","webpack://_wix_image/../../../src/helpers/imageServiceConstants.ts","webpack://_wix_image/../../../src/helpers/utils.ts","webpack://_wix_image/../../../src/helpers/imageServiceUtils.ts","webpack://_wix_image/../../../src/helpers/imageServiceFeatureSupportObject.ts","webpack://_wix_image/../../../src/helpers/populateFeatureSupport.ts","webpack://_wix_image/../../../../src/engines/attributes/backgroundAttributes.ts","webpack://_wix_image/../../../../src/engines/attributes/imgAttributes.ts","webpack://_wix_image/../../../../src/engines/attributes/SVGAttributes.ts","webpack://_wix_image/../../../src/engines/attributes.ts","webpack://_wix_image/../../../src/helpers/browserFeatureSupport.ts","webpack://_wix_image/../../../src/helpers/imageTransformParts.ts","webpack://_wix_image/../../../src/helpers/imageTransformOptions.ts","webpack://_wix_image/../../../src/api/transform.ts","webpack://_wix_image/../../../src/engines/transforms.ts","webpack://_wix_image/../../../src/api/uri.ts","webpack://_wix_image/../../../src/api/srcset.ts","webpack://_wix_image/../../../src/helpers/imagePlaceholderUtils.ts","webpack://_wix_image/../../../../src/api/max/api.ts","webpack://_wix_image/../../../../src/api/uri/index.ts","webpack://_wix_image/../../../src/sdk/api.ts","webpack://_wix_image/../../../src/sdk/index.ts","webpack://_wix_image/../../../src/helpers/responsiveImageUtils.ts","webpack://_wix_image/../../../../src/api/max/index.ts","webpack://_wix_image/./Image.tsx","webpack://_wix_image/./utils.ts","webpack://_wix_image/./custom-element/utils.ts","webpack://_wix_image/./imageNG.module.scss?43c4","webpack://_wix_image/./ImageNG.tsx","webpack://_wix_image/./custom-element/imageLayout.ts","webpack://_wix_image/./custom-element/WowImage.ts","webpack://_wix_image/./custom-element/registry.ts","webpack://_wix_image/./customElementInit.ts","webpack://_wix_image/./index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"image\", [\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"image\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"image\"] = factory(root[\"React\"]);\n})((typeof self !== 'undefined' ? self : this), (__WEBPACK_EXTERNAL_MODULE__883__) => {\nreturn ","!(function(win) {\n\n/**\n * FastDom\n *\n * Eliminates layout thrashing\n * by batching DOM read/write\n * interactions.\n *\n * @author Wilson Page <wilsonpage@me.com>\n * @author Kornel Lesinski <kornel.lesinski@ft.com>\n */\n\n'use strict';\n\n/**\n * Mini logger\n *\n * @return {Function}\n */\nvar debug = 0 ? console.log.bind(console, '[fastdom]') : function() {};\n\n/**\n * Normalized rAF\n *\n * @type {Function}\n */\nvar raf = win.requestAnimationFrame\n  || win.webkitRequestAnimationFrame\n  || win.mozRequestAnimationFrame\n  || win.msRequestAnimationFrame\n  || function(cb) { return setTimeout(cb, 16); };\n\n/**\n * Initialize a `FastDom`.\n *\n * @constructor\n */\nfunction FastDom() {\n  var self = this;\n  self.reads = [];\n  self.writes = [];\n  self.raf = raf.bind(win); // test hook\n  debug('initialized', self);\n}\n\nFastDom.prototype = {\n  constructor: FastDom,\n\n  /**\n   * We run this inside a try catch\n   * so that if any jobs error, we\n   * are able to recover and continue\n   * to flush the batch until it's empty.\n   *\n   * @param {Array} tasks\n   */\n  runTasks: function(tasks) {\n    debug('run tasks');\n    var task; while (task = tasks.shift()) task();\n  },\n\n  /**\n   * Adds a job to the read batch and\n   * schedules a new frame if need be.\n   *\n   * @param  {Function} fn\n   * @param  {Object} ctx the context to be bound to `fn` (optional).\n   * @public\n   */\n  measure: function(fn, ctx) {\n    debug('measure');\n    var task = !ctx ? fn : fn.bind(ctx);\n    this.reads.push(task);\n    scheduleFlush(this);\n    return task;\n  },\n\n  /**\n   * Adds a job to the\n   * write batch and schedules\n   * a new frame if need be.\n   *\n   * @param  {Function} fn\n   * @param  {Object} ctx the context to be bound to `fn` (optional).\n   * @public\n   */\n  mutate: function(fn, ctx) {\n    debug('mutate');\n    var task = !ctx ? fn : fn.bind(ctx);\n    this.writes.push(task);\n    scheduleFlush(this);\n    return task;\n  },\n\n  /**\n   * Clears a scheduled 'read' or 'write' task.\n   *\n   * @param {Object} task\n   * @return {Boolean} success\n   * @public\n   */\n  clear: function(task) {\n    debug('clear', task);\n    return remove(this.reads, task) || remove(this.writes, task);\n  },\n\n  /**\n   * Extend this FastDom with some\n   * custom functionality.\n   *\n   * Because fastdom must *always* be a\n   * singleton, we're actually extending\n   * the fastdom instance. This means tasks\n   * scheduled by an extension still enter\n   * fastdom's global task queue.\n   *\n   * The 'super' instance can be accessed\n   * from `this.fastdom`.\n   *\n   * @example\n   *\n   * var myFastdom = fastdom.extend({\n   *   initialize: function() {\n   *     // runs on creation\n   *   },\n   *\n   *   // override a method\n   *   measure: function(fn) {\n   *     // do extra stuff ...\n   *\n   *     // then call the original\n   *     return this.fastdom.measure(fn);\n   *   },\n   *\n   *   ...\n   * });\n   *\n   * @param  {Object} props  properties to mixin\n   * @return {FastDom}\n   */\n  extend: function(props) {\n    debug('extend', props);\n    if (typeof props != 'object') throw new Error('expected object');\n\n    var child = Object.create(this);\n    mixin(child, props);\n    child.fastdom = this;\n\n    // run optional creation hook\n    if (child.initialize) child.initialize();\n\n    return child;\n  },\n\n  // override this with a function\n  // to prevent Errors in console\n  // when tasks throw\n  catch: null\n};\n\n/**\n * Schedules a new read/write\n * batch if one isn't pending.\n *\n * @private\n */\nfunction scheduleFlush(fastdom) {\n  if (!fastdom.scheduled) {\n    fastdom.scheduled = true;\n    fastdom.raf(flush.bind(null, fastdom));\n    debug('flush scheduled');\n  }\n}\n\n/**\n * Runs queued `read` and `write` tasks.\n *\n * Errors are caught and thrown by default.\n * If a `.catch` function has been defined\n * it is called instead.\n *\n * @private\n */\nfunction flush(fastdom) {\n  debug('flush');\n\n  var writes = fastdom.writes;\n  var reads = fastdom.reads;\n  var error;\n\n  try {\n    debug('flushing reads', reads.length);\n    fastdom.runTasks(reads);\n    debug('flushing writes', writes.length);\n    fastdom.runTasks(writes);\n  } catch (e) { error = e; }\n\n  fastdom.scheduled = false;\n\n  // If the batch errored we may still have tasks queued\n  if (reads.length || writes.length) scheduleFlush(fastdom);\n\n  if (error) {\n    debug('task errored', error.message);\n    if (fastdom.catch) fastdom.catch(error);\n    else throw error;\n  }\n}\n\n/**\n * Remove an item from an Array.\n *\n * @param  {Array} array\n * @param  {*} item\n * @return {Boolean}\n */\nfunction remove(array, item) {\n  var index = array.indexOf(item);\n  return !!~index && !!array.splice(index, 1);\n}\n\n/**\n * Mixin own properties of source\n * object into the target.\n *\n * @param  {Object} target\n * @param  {Object} source\n */\nfunction mixin(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) target[key] = source[key];\n  }\n}\n\n// There should never be more than\n// one instance of `FastDom` in an app\nvar exports = win.fastdom = (win.fastdom || new FastDom()); // jshint ignore:line\n\n// Expose to CJS & AMD\nif ((typeof define) == 'function') define(function() { return exports; });\nelse if ((typeof module) == 'object') module.exports = exports;\n\n})( typeof window !== 'undefined' ? window : typeof this != 'undefined' ? this : globalThis);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__883__;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _extends() {\n  return module.exports = _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _extends.apply(null, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"dSF_1i\"};",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as React from 'react';\nimport type { ImageInfo, ImageProps } from './types';\nimport styles from './Image.module.scss';\nimport { ImageAttributesData, ImagePlaceholderData } from './types';\nimport * as imageKit from '@wix/image-kit';\n\nconst { STATIC_MEDIA_URL } = imageKit;\n\nconst fetchLQIP = ({\n  fittingType,\n  src,\n  target,\n  options,\n}: ImagePlaceholderData): ImageAttributesData => {\n  const placeholder = imageKit.getPlaceholder(fittingType, src, target, {\n    ...options,\n    autoEncode: true,\n  });\n\n  if (placeholder?.uri && !/^[a-z]+:/.test(placeholder.uri)) {\n    placeholder.uri = `${STATIC_MEDIA_URL}${placeholder.uri}`;\n  }\n\n  return placeholder as ImageAttributesData;\n};\n\nconst SCHEME_RE = /^[a-z]+:/;\n\nconst Image: React.FC<ImageProps> = (props) => {\n  const {\n    id,\n    containerId,\n    uri,\n    alt,\n    name = '',\n    role,\n    width,\n    height,\n    displayMode,\n    devicePixelRatio,\n    quality,\n    alignType,\n    bgEffectName = '',\n    focalPoint,\n    upscaleMethod,\n    className = '',\n    crop,\n    imageStyles = {},\n    targetWidth,\n    targetHeight,\n    targetScale,\n    onLoad = () => {},\n    onError = () => {},\n    shouldUseLQIP,\n    containerWidth,\n    containerHeight,\n    getPlaceholder,\n    isInFirstFold,\n    placeholderTransition,\n    socialAttrs,\n    isSEOBot,\n    skipMeasure,\n    hasAnimation,\n    encoding,\n  } = props;\n  const imageRef = React.useRef<HTMLImageElement>(null);\n  // fix containerId and id to support hoverBox component\n  let hasSsrSrc: '' | 'true' = '';\n\n  const hasBlurTransition = placeholderTransition === 'blur';\n\n  const ssrImageData = React.useRef<ImageAttributesData | null>(null);\n\n  if (!ssrImageData.current) {\n    if (getPlaceholder || shouldUseLQIP || isInFirstFold || isSEOBot) {\n      const options = {\n        upscaleMethod,\n        ...(quality ? quality : {}),\n        shouldLoadHQImage: isInFirstFold,\n        isSEOBot,\n        hasAnimation,\n        encoding,\n      };\n\n      ssrImageData.current = (getPlaceholder || fetchLQIP)({\n        fittingType: displayMode,\n        src: {\n          id: uri,\n          width,\n          height,\n          crop,\n          name,\n          focalPoint,\n        },\n        target: {\n          width: containerWidth,\n          height: containerHeight,\n          alignment: alignType,\n          htmlTag: 'img',\n        },\n        options,\n      });\n\n      hasSsrSrc =\n        !ssrImageData.current.transformed || isInFirstFold || isSEOBot\n          ? ''\n          : 'true';\n    } else {\n      // to keep an empty placeholder data\n      ssrImageData.current = {\n        uri: undefined, // to remove src attribute completely\n        css: { img: {} },\n        attr: { img: {}, container: {} },\n        transformed: false,\n      };\n    }\n  }\n\n  const isLQIP =\n    !isSEOBot &&\n    (getPlaceholder || shouldUseLQIP) &&\n    !isInFirstFold &&\n    ssrImageData.current.transformed;\n\n  const imageInfo = React.useMemo(\n    () =>\n      JSON.stringify({\n        containerId,\n        ...(containerId && { containerId }),\n        ...(alignType && { alignType }),\n        ...(skipMeasure && { skipMeasure: true }),\n        displayMode,\n        ...(containerWidth && { targetWidth: containerWidth }),\n        ...(containerHeight && { targetHeight: containerHeight }),\n        ...(targetWidth && { targetWidth }),\n        ...(targetHeight && { targetHeight }),\n        ...(targetScale && { targetScale }),\n        isLQIP,\n        isSEOBot,\n        lqipTransition: placeholderTransition,\n        encoding,\n        imageData: {\n          width,\n          height,\n          uri,\n          name,\n          displayMode,\n          hasAnimation,\n          ...(quality && { quality }),\n          ...(devicePixelRatio && { devicePixelRatio }),\n          ...(focalPoint && { focalPoint }),\n          ...(crop && { crop }),\n          ...(upscaleMethod && { upscaleMethod }),\n        },\n      } satisfies ImageInfo),\n    [\n      containerId,\n      alignType,\n      skipMeasure,\n      displayMode,\n      containerWidth,\n      containerHeight,\n      targetWidth,\n      targetHeight,\n      targetScale,\n      isLQIP,\n      isSEOBot,\n      placeholderTransition,\n      encoding,\n      width,\n      height,\n      uri,\n      name,\n      hasAnimation,\n      quality,\n      devicePixelRatio,\n      focalPoint,\n      crop,\n      upscaleMethod,\n    ],\n  );\n\n  const ssrResult = ssrImageData.current;\n  const src = ssrResult?.uri;\n  const srcset = ssrResult?.srcset;\n  const placeholderStyle = ssrResult.css?.img;\n  const classNames = `${styles.image} ${className}`;\n\n  React.useEffect(() => {\n    // When image comes from cache onLoad not trigger on native HTML element\n    const imgElement = imageRef.current;\n    if (onLoad && imgElement?.currentSrc && imgElement?.complete) {\n      onLoad({\n        target: imgElement,\n      } satisfies Partial<React.SyntheticEvent<HTMLImageElement>> as unknown as React.SyntheticEvent<HTMLImageElement>);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const maxWidth =\n    ssrResult && !ssrResult?.transformed\n      ? `max(${width}px, 100%)`\n      : targetWidth\n      ? `${targetWidth}px`\n      : null;\n\n  return (\n    <wow-image\n      id={id}\n      class={classNames}\n      data-image-info={imageInfo}\n      // TODO: get the correct id to place here\n      data-motion-part={`BG_IMG ${containerId}`}\n      data-bg-effect-name={bgEffectName}\n      data-has-ssr-src={hasSsrSrc}\n      data-animate-blur={\n        !isSEOBot && isLQIP && hasBlurTransition ? '' : undefined\n      }\n      style={maxWidth ? { '--wix-img-max-width': maxWidth } : {}}\n    >\n      <img\n        src={src}\n        ref={imageRef}\n        alt={alt || ''}\n        role={role}\n        style={{ ...placeholderStyle, ...imageStyles }}\n        onLoad={onLoad}\n        onError={onError}\n        width={containerWidth ? containerWidth : undefined}\n        height={containerHeight ? containerHeight : undefined}\n        {...socialAttrs}\n        srcSet={\n          isInFirstFold\n            ? srcset?.dpr\n                ?.map((s: string) =>\n                  SCHEME_RE.test(s) ? s : `${STATIC_MEDIA_URL}${s}`,\n                )\n                .join(', ')\n            : undefined\n        }\n        // @ts-expect-error fetchpriority type should work in react > 18.3 https://github.com/facebook/react/pull/25927\n        fetchpriority={isInFirstFold ? 'high' : undefined}\n        loading={isInFirstFold === false ? 'lazy' : undefined}\n        // The src attribute triggers a mismatch warning because wow-image updates its src outside of the React lifecycle. This causes React to retain the old value in the virtual DOM, which could potentially lead to a bug where the old value is re-rendered during updates. However, were confident that this issue is not reproducing in current (16-18) React versions\n        suppressHydrationWarning\n      />\n    </wow-image>\n  );\n};\n\nexport { Image, imageKit };\n","export const camelToKebab = (str: string): string =>\n  str.replace(\n    /[A-Z]+(?![^A-Z])|[A-Z]/g,\n    (a, b) => (b ? '-' : '') + a.toLowerCase(),\n  );\n","import {\n  alignTypes,\n  fittingTypes,\n  getData,\n  isWEBP,\n  getFileExtension,\n  fileType,\n} from '@wix/image-kit';\nimport type { ImageTransformSource, ImageDataAttributes } from '@wix/image-kit';\nimport { camelToKebab } from '../utils';\nimport { EnvConsts, MediaSizeQuery } from '../types';\nimport { CSSProperties } from 'react';\n\nconst CSS_NUMERIC_VALUES = {\n  columnCount: 1,\n  columns: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  zIndex: 1,\n  zoom: 1,\n};\n\nconst pick = <T extends Record<string, any>, K extends keyof T>(\n  obj: T,\n  props: K | K[],\n) => {\n  const propsArr = Array.isArray(props) ? props : [props];\n  return propsArr.reduce((subObj, prop) => {\n    const val = obj[prop];\n    return val !== undefined ? Object.assign(subObj, { [prop]: val }) : subObj;\n  }, {} as Partial<Pick<T, K>>);\n};\n\nconst addDefaultUnitIfNeeded = (\n  prop: keyof React.CSSProperties,\n  value: Exclude<CSSProperties[keyof CSSProperties], undefined>,\n): string =>\n  typeof value === 'number' &&\n  !CSS_NUMERIC_VALUES[prop as keyof typeof CSS_NUMERIC_VALUES]\n    ? `${value}px`\n    : value.toString();\n\nconst setStyle = (\n  node?: HTMLElement | HTMLImageElement,\n  styleProperties?: React.CSSProperties,\n) =>\n  node &&\n  styleProperties &&\n  Object.keys(styleProperties).forEach((prop) => {\n    const styleProp = prop as keyof React.CSSProperties;\n    const propValue = styleProperties[styleProp];\n\n    if (propValue !== undefined) {\n      node.style[styleProp as any] = addDefaultUnitIfNeeded(\n        styleProp,\n        propValue,\n      );\n    } else {\n      node.style.removeProperty(styleProp);\n    }\n  });\n\nconst getScreenHeight = (heightOverride?: number) =>\n  heightOverride ||\n  document.documentElement.clientHeight ||\n  window.innerHeight ||\n  0;\n\nconst getImageComputedProperties = (\n  extendedImageInfo: Record<string, any>,\n  envConsts: EnvConsts,\n  htmlTag: keyof JSX.IntrinsicElements,\n): ImageDataAttributes => {\n  // todo: CLNT-5323 , wixapp sildergallery proxy is generating image data without uri\n  if (\n    !extendedImageInfo.targetWidth ||\n    !extendedImageInfo.targetHeight ||\n    !extendedImageInfo.imageData.uri\n  ) {\n    return { uri: '', css: {}, transformed: false };\n  }\n\n  const { imageData } = extendedImageInfo;\n  const fittingType =\n    extendedImageInfo.displayMode || fittingTypes.SCALE_TO_FILL;\n  const imageOptions = Object.assign(\n    pick(imageData, ['upscaleMethod']),\n    pick(extendedImageInfo, ['filters', 'encoding']),\n    extendedImageInfo.quality || imageData.quality,\n    {\n      hasAnimation: extendedImageInfo?.hasAnimation || imageData?.hasAnimation,\n    },\n  );\n\n  const devicePixelRatioFromData =\n    extendedImageInfo.imageData.devicePixelRatio || envConsts.devicePixelRatio;\n  const devicePixelRatio = getDevicePixelRatio(devicePixelRatioFromData);\n\n  const src = Object.assign(\n    pick(imageData, ['width', 'height', 'crop', 'name', 'focalPoint']),\n    { id: imageData.uri },\n  ) as ImageTransformSource;\n  const target = {\n    width: extendedImageInfo.targetWidth,\n    height: extendedImageInfo.targetHeight,\n    htmlTag: (htmlTag || 'img') as 'img' | 'bg',\n    pixelAspectRatio: devicePixelRatio,\n    alignment: extendedImageInfo.alignType || alignTypes.CENTER,\n  };\n\n  const imageComputedProperties = getData(\n    fittingType,\n    src,\n    target,\n    imageOptions,\n  );\n  imageComputedProperties.uri = getMediaUrlByContext(\n    imageComputedProperties.uri as string,\n    envConsts.staticMediaUrl,\n    envConsts.mediaRootUrl,\n  );\n  return imageComputedProperties;\n};\n\nconst getMediaUrlByContext = (\n  imageUri: string,\n  staticMediaUrl: string,\n  mediaRootUrl: string,\n) => {\n  const isExternalUrl = /(^https?)|(^data)|(^blob)|(^\\/\\/)/.test(imageUri);\n\n  if (isExternalUrl) {\n    return imageUri;\n  }\n\n  let path = `${staticMediaUrl}/`;\n\n  if (imageUri) {\n    if (/^micons\\//.test(imageUri)) {\n      path = mediaRootUrl;\n    } else if (/[^.]+$/.exec(imageUri)?.[0] === 'ico') {\n      // if the image is an icon then it's taken from a slightly different place\n      path = path.replace('media', 'ficons');\n    }\n  }\n  return path + imageUri;\n};\n\nconst getDevicePixelRatio = (devicePixelRatio?: number) => {\n  // we should be able to force devicePixelRatio from url by using the query param -\n  const queryParams = window.location.search\n    .split('&')\n    .map((query) => query.split('='));\n  const devicePixelRatioQueryParam = queryParams.find((query) =>\n    query[0]?.toLowerCase().includes('devicepixelratio'),\n  );\n  const devicePixelRatioValueForceFromUrl = devicePixelRatioQueryParam?.[1]\n    ? Number(devicePixelRatioQueryParam[1])\n    : null;\n  return devicePixelRatioValueForceFromUrl || devicePixelRatio || 1;\n};\n\nconst getImageSrc = (imageNode: HTMLImageElement) =>\n  imageNode.getAttribute('src');\n\nconst isTransformedWEBP = (imageNode: HTMLImageElement, imageUri: string) => {\n  const src = getImageSrc(imageNode) || '';\n  const isTransformed = !!src.match(/.webp\\/v1\\//);\n  return isWEBP(imageUri) && isTransformed;\n};\n\nconst imageIsAnimated = (uri: string, hasAnimation?: boolean) =>\n  getFileExtension(uri) === fileType.GIF ||\n  (getFileExtension(uri) === fileType.WEBP && hasAnimation);\n\nconst getMediaSizeQueryString = (media: MediaSizeQuery) => {\n  return Object.entries(media)\n    .filter(([_, value]) => value || value === 0)\n    .map(([key, value]) => `(${camelToKebab(key)}: ${value}px)`)\n    .join(' and ');\n};\n\nexport {\n  // TODO(ameerabuf) - move methods that are not custom-element logic to a more general image util lib\n  getMediaSizeQueryString,\n  getMediaUrlByContext,\n  getScreenHeight,\n  setStyle,\n  getImageComputedProperties,\n  getImageSrc,\n  isTransformedWEBP,\n  imageIsAnimated,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"gebRUR\"};","import * as React from 'react';\n\nimport type {\n  ImageTransformSource,\n  ImageTransformTarget,\n} from '@wix/image-kit';\nimport { getData } from '@wix/image-kit';\nimport {\n  getMediaUrlByContext,\n  getMediaSizeQueryString,\n} from './custom-element/utils';\nimport { camelToKebab } from './utils';\nimport styles from './imageNG.module.scss';\n\nimport type { ImageMedia, ImageNGProps } from './types';\n\n// TODO(ameerabuf) - in original comp these prefixes could be overriden by EnvConsts\nconst STATIC_MEDIA_URL = 'https://static.wixstatic.com/media/';\nconst MEDIA_ROOT_URL = 'https://static.wixstatic.com/';\n\nfunction getURL(image: ImageMedia, targetSize: number) {\n  if (!image.height || !image.width) {\n    return '';\n  }\n  let inverseAspectRatio = image.height / image.width;\n  // TODO(ameerabuf) - are those the same? seemed to be used as the same in other places..\n  const pixelAspectRatio = 1;\n  const devicePixelRatio = 1;\n\n  const src = Object.fromEntries(\n    (['width', 'height', 'name'] as (keyof ImageMedia)[])\n      .filter((key) => image[key])\n      .map((key) => [key, image[key]]),\n  ) as unknown as ImageTransformSource;\n\n  if (image.crop) {\n    const cropX = image.crop.x || 0;\n    const cropY = image.crop.y || 0;\n    const cropW = Math.min(\n      image.crop.width || image.width,\n      image.width - cropX,\n    );\n    const cropH = Math.min(\n      image.crop.height || image.height,\n      image.height - cropY,\n    );\n    inverseAspectRatio = cropH / cropW;\n\n    src.crop = {\n      x: cropX,\n      y: cropY,\n      width: cropW,\n      height: cropH,\n    };\n  }\n\n  src.id = image.uri;\n\n  const target: ImageTransformTarget = {\n    width: targetSize,\n    height: targetSize * inverseAspectRatio,\n    pixelAspectRatio,\n    alignment: 'center',\n    htmlTag: 'img',\n  };\n\n  const options = {\n    // TODO(ameerabuf) - implement filter and upscale?\n    // filters?: ImageTransformFiltersOption;\n    // upscaleMethod?: UpscaleMethod;\n    quality: image.quality,\n    hasAnimation: !!image.animated,\n    devicePixelRatio,\n  };\n\n  const { uri } = getData('fill', src, target, options);\n  return uri && getMediaUrlByContext(uri, STATIC_MEDIA_URL, MEDIA_ROOT_URL);\n}\n\nconst ImageNG: React.FC<ImageNGProps> = (props) => {\n  const { id, alt, sources, priority, decorative, role, dataset } = props;\n\n  if (!sources.length) {\n    return null;\n  }\n\n  const sourcesAttributes = sources.map(\n    ({ image, media, sizes, targetSizes }) => ({\n      sizes: sizes\n        .map(\n          (s) =>\n            `${s.media ? getMediaSizeQueryString(s.media) + ' ' : ''}${\n              s.size.value\n            }${s.size.type}`,\n        )\n        .join(', '),\n      srcset: targetSizes.map((s) => `${getURL(image, s)} ${s}w`).join(', '),\n      ...(media && { media: getMediaSizeQueryString(media) }),\n      width: Math.min(\n        image.crop?.width || image.width,\n        image.width - (image.crop?.x || 0),\n      ),\n      height: Math.min(\n        image.crop?.height || image.height,\n        image.height - (image.crop?.y || 0),\n      ),\n    }),\n  );\n\n  const defaultSource = sources[sources.length - 1];\n  const { image } = defaultSource!;\n  const fullSizeSrc = getURL(image, image.width);\n\n  const dataAttrs = dataset\n    ? Object.fromEntries(\n        Object.entries(dataset).map(([key, val]) => [\n          `data-${camelToKebab(key)}`,\n          val,\n        ]),\n      )\n    : {};\n\n  return (\n    <picture id={id} className={`${styles.image}`} {...dataAttrs}>\n      {sourcesAttributes.map(({ sizes, srcset, media, width, height }) => (\n        <source\n          key={`${id}-${media}`}\n          sizes={sizes}\n          srcSet={srcset}\n          media={media}\n          width={width}\n          height={height}\n        />\n      ))}\n      <style>\n        {[...sourcesAttributes]\n          .reverse()\n          .map(\n            ({\n              media,\n              width,\n              height,\n            }: {\n              media?: string;\n              width: number;\n              height: number;\n            }) =>\n              `${media ? `@media ${media} {` : ''}#${id}{--aspect-ratio: ${\n                width / height\n              };}${media ? '}' : ''}`,\n          )\n          .join(' ')}\n      </style>\n      <img\n        {...(priority === 'high'\n          ? { fetchpriority: 'high' }\n          : { loading: 'lazy' })}\n        {...(decorative && { 'aria-hidden': true })}\n        src={fullSizeSrc}\n        alt={decorative ? '' : alt}\n        role={role}\n        width={image.width}\n        height={image.height}\n      />\n    </picture>\n  );\n};\n\nexport { ImageNG };\n","import {\n  getScreenHeight,\n  setStyle,\n  getImageComputedProperties,\n  getImageSrc,\n  imageIsAnimated,\n} from './utils';\nimport type {\n  WixImageServices,\n  FittingType,\n  ImageInfo,\n  SourceSet,\n  WixImageMeasures,\n  WixImageDomNodes,\n  EnvConsts,\n} from '../types';\n\nconst MOBILE_SAFE_ADDRESSBAR_HEIGHT = 80;\n\nfunction getHeightOverride(\n  height: number,\n  mediaHeightOverrideType: WixImageMeasures['mediaHeightOverrideType'],\n) {\n  // on mobile, documentElement.clientHeight changes when scrolling, because of address bar collapsing.\n  // avoiding re-fetching image by returning the same height\n  return mediaHeightOverrideType === 'fixed' ||\n    mediaHeightOverrideType === 'viewport'\n    ? document.documentElement.clientHeight + MOBILE_SAFE_ADDRESSBAR_HEIGHT\n    : height;\n}\n\nfunction computeScaleOverrides(\n  imageStyle: Record<string, string>,\n  targetScale = 1,\n) {\n  return targetScale !== 1\n    ? {\n        ...imageStyle,\n        width: '100%',\n        height: '100%',\n      }\n    : imageStyle;\n}\n\n/**\n * compute specific overrides\n */\nfunction computeStyleOverrides(\n  mediaHeightOverrideType: WixImageMeasures['mediaHeightOverrideType'],\n  imageStyle: Record<string, string>,\n  displayMode: FittingType,\n  targetScale: number,\n  isResponsive: boolean,\n) {\n  // image scaling override\n  const styleWithScale = computeScaleOverrides(imageStyle, targetScale);\n  if (isResponsive) {\n    delete styleWithScale.height;\n    styleWithScale.width = '100%';\n  }\n  if (!mediaHeightOverrideType) {\n    return styleWithScale;\n  }\n  // siteBackground on mobile\n  const style: Record<string, string> = { ...styleWithScale };\n\n  if (displayMode === 'fill') {\n    style.position = 'absolute';\n    style.top = '0';\n  } else if (displayMode === 'fit') {\n    style.height = '100%';\n  }\n\n  if (mediaHeightOverrideType === 'fixed') {\n    // eliminates white gap when address bar is collapsing\n    style['will-change'] = 'transform';\n  }\n\n  // force image alignment to include top\n  if (style.objectPosition) {\n    style.objectPosition = (imageStyle.objectPosition as string).replace(\n      /(center|bottom)$/,\n      'top',\n    );\n  }\n\n  return style;\n}\n\nfunction getSourceSetsTargetHeightByEffect(\n  sourceSets: SourceSet[],\n  offsetWidth: number,\n  offsetHeight: number,\n  screenHeight: number,\n  services: WixImageServices,\n) {\n  const sourceSetsTargetHeights: { [key: string]: number } = {};\n  sourceSets.forEach(({ mediaQuery, scrollEffect }) => {\n    sourceSetsTargetHeights[mediaQuery] =\n      services.getMediaDimensionsByEffect?.(\n        scrollEffect,\n        offsetWidth,\n        offsetHeight,\n        screenHeight,\n      ).height || offsetHeight;\n  });\n  return sourceSetsTargetHeights;\n}\n\nfunction computeSrcSets(\n  measures: WixImageMeasures,\n  imageInfo: ImageInfo,\n  envConsts: EnvConsts,\n) {\n  const { sourceSets } = imageInfo;\n  if (!sourceSets || !sourceSets.length) {\n    return;\n  }\n\n  const mediaToUri: { [key: string]: string } = {};\n  sourceSets.forEach(({ mediaQuery, crop, focalPoint }) => {\n    const imageInfoClone = {\n      ...imageInfo,\n      targetHeight: (measures.sourceSetsTargetHeights || {})[mediaQuery] || 0,\n      imageData: {\n        ...imageInfo.imageData,\n        crop,\n        focalPoint,\n      },\n    };\n    const imageComputedProperties = getImageComputedProperties(\n      imageInfoClone,\n      envConsts,\n      'img',\n    );\n    mediaToUri[mediaQuery] = imageComputedProperties.uri || '';\n  });\n  return mediaToUri;\n}\n\nfunction measure(\n  id: string,\n  measures: WixImageMeasures,\n  domNodes: WixImageDomNodes,\n  {\n    containerElm,\n    bgEffect = 'none',\n    sourceSets,\n  }: {\n    containerElm: HTMLElement | undefined;\n    bgEffect?: string;\n    sourceSets?: SourceSet[];\n  },\n  services: WixImageServices,\n) {\n  const innerImage = domNodes.image as HTMLImageElement;\n  const wixImage = domNodes[id] as HTMLElement;\n  const screenHeight = getScreenHeight(services.getScreenHeightOverride?.());\n\n  // override positioning and scaling of image (SiteBackground mobile override behaviour)\n  const mediaHeightOverrideType = containerElm?.dataset\n    .mediaHeightOverrideType as\n    | WixImageMeasures['mediaHeightOverrideType']\n    | undefined;\n\n  const hasBgEffect =\n    (bgEffect && bgEffect !== 'none') ||\n    (sourceSets && sourceSets.some((srcset) => srcset.scrollEffect));\n  const sourceOfDimensions = (\n    containerElm && hasBgEffect ? containerElm : wixImage\n  ) as HTMLElement; // default to self\n  const cssBgEffect = window\n    .getComputedStyle(wixImage)\n    .getPropertyValue('--bg-scrub-effect');\n\n  const { width, height } = services.getMediaDimensionsByEffect?.(\n    cssBgEffect || bgEffect,\n    sourceOfDimensions.offsetWidth,\n    sourceOfDimensions.offsetHeight,\n    screenHeight,\n  ) || {\n    width: wixImage.offsetWidth,\n    height: wixImage.offsetHeight,\n  };\n  if (sourceSets) {\n    measures.sourceSetsTargetHeights = getSourceSetsTargetHeightByEffect(\n      sourceSets,\n      sourceOfDimensions.offsetWidth,\n      sourceOfDimensions.offsetHeight,\n      screenHeight,\n      services,\n    );\n  }\n\n  if (!innerImage) {\n    return;\n  }\n\n  const imgSrc = getImageSrc(innerImage);\n\n  if (cssBgEffect) {\n    measures.top = 0.5 * (wixImage.offsetHeight - height);\n    measures.left = 0.5 * (wixImage.offsetWidth - width);\n  }\n  measures.width = width;\n  measures.height = getHeightOverride(height, mediaHeightOverrideType);\n  measures.screenHeight = screenHeight;\n  measures.imgSrc = imgSrc;\n  measures.boundingRect = wixImage!.getBoundingClientRect();\n  measures.mediaHeightOverrideType = mediaHeightOverrideType;\n  measures.srcset = innerImage.srcset;\n}\n\nfunction patch(\n  id: string,\n  measures: WixImageMeasures,\n  domNodes: Record<string, HTMLElement | HTMLImageElement | null>,\n  imageInfo: ImageInfo,\n  envConsts: EnvConsts,\n  loadImage: boolean,\n  isResponsive: boolean,\n  bgEffect?: string,\n  loadImageImmediately?: boolean,\n) {\n  if (!Object.keys(measures).length) {\n    return;\n  }\n\n  const { imageData } = imageInfo;\n  const wixImageNode = domNodes[id] as HTMLElement;\n  const image = domNodes.image as HTMLImageElement;\n\n  // no retina scaling for background scroll effects\n  if (bgEffect) {\n    imageData.devicePixelRatio = 1;\n  }\n\n  const targetScale = imageInfo.targetScale || 1;\n\n  const extendedImageInfo = {\n    ...imageInfo,\n    ...(!imageInfo.skipMeasure && {\n      targetWidth: (measures.width || 0) * targetScale,\n      targetHeight: (measures.height || 0) * targetScale,\n    }),\n    displayMode: imageData.displayMode,\n  };\n\n  const imageComputedProperties = getImageComputedProperties(\n    extendedImageInfo,\n    envConsts,\n    'img',\n  );\n  const computedStyle =\n    (imageComputedProperties?.css as { img: {} })?.img || {};\n  const imageStyle = computeStyleOverrides(\n    measures.mediaHeightOverrideType,\n    computedStyle,\n    imageData.displayMode,\n    targetScale,\n    isResponsive,\n  );\n  setStyle(image, imageStyle);\n  if (measures.top || measures.left) {\n    setStyle(wixImageNode, {\n      top: `${measures.top}px`,\n      left: `${measures.left}px`,\n    });\n  }\n\n  const src = imageComputedProperties?.uri || '';\n  const hasAnimation = imageData?.hasAnimation || imageInfo?.hasAnimation;\n\n  const mediaToUri = computeSrcSets(measures, extendedImageInfo, envConsts);\n\n  if (loadImageImmediately) {\n    // flag that this image has been processed\n    image.dataset.ssrSrcDone = 'true';\n  }\n\n  if (\n    imageInfo.isLQIP &&\n    imageInfo.lqipTransition &&\n    !('transitioned' in wixImageNode.dataset)\n  ) {\n    wixImageNode.dataset.transitioned = '';\n\n    if (image.complete) {\n      image.onload = function () {\n        image.dataset.loadDone = '';\n      };\n    } else {\n      image.onload = function () {\n        if (image.complete) {\n          image.dataset.loadDone = '';\n        } else {\n          image.onload = function () {\n            image.dataset.loadDone = '';\n          };\n        }\n      };\n    }\n  }\n\n  if (loadImage) {\n    if (imageIsAnimated(imageData.uri, hasAnimation)) {\n      image.setAttribute('fetchpriority', 'low');\n      image.setAttribute('loading', 'lazy');\n      image.setAttribute('decoding', 'async');\n    } else {\n      image.setAttribute('fetchpriority', 'high');\n    }\n    image.currentSrc !== src && image.setAttribute('src', src);\n    const srcIsMissingFromSrcset =\n      measures.srcset &&\n      !measures.srcset\n        .split(', ')\n        .some((source) => source.split(' ')[0] === src);\n    if (srcIsMissingFromSrcset) {\n      image.setAttribute('srcset', src);\n    }\n    if (domNodes.picture && extendedImageInfo.sourceSets) {\n      Array.from(domNodes.picture.querySelectorAll('source')).forEach(\n        (sourceNode) => {\n          const mediaQuery = sourceNode.media || '';\n          const uri = mediaToUri?.[mediaQuery];\n          if (sourceNode.srcset !== uri) {\n            sourceNode.setAttribute('srcset', uri || '');\n          }\n        },\n      );\n    }\n  }\n}\n\nexport default {\n  measure,\n  patch,\n};\n","import { getImageSrc } from './utils';\nimport imageLayout from './imageLayout';\nimport type {\n  WixImageServices,\n  WixImageMeasures,\n  ImageInfo,\n  EnvConsts,\n} from '../types';\n\ntype Timeout = number;\n\nconst TIMEOUT = 250;\n\nconst imageEffectMap = {\n  parallax: 'ImageParallax',\n  fixed: 'ImageReveal',\n} as const;\n\nfunction wowImageFactory(\n  services: WixImageServices,\n  environmentConsts: EnvConsts,\n  contextWindow: Window & typeof globalThis,\n): any {\n  return class WowImage extends contextWindow.HTMLElement {\n    childListObserver: MutationObserver | null;\n    timeoutId: Timeout | null;\n\n    constructor() {\n      // eslint-disable-line no-useless-constructor\n      super();\n\n      this.childListObserver = null;\n      this.timeoutId = null;\n    }\n\n    attributeChangedCallback(_: string, oldValue: string) {\n      if (oldValue) {\n        this.reLayout();\n      }\n    }\n\n    connectedCallback() {\n      if (environmentConsts.disableImagesLazyLoading) {\n        this.reLayout();\n      } else {\n        this.observeIntersect();\n      }\n    }\n\n    disconnectedCallback() {\n      this.unobserveResize();\n      this.unobserveIntersect();\n      this.unobserveChildren();\n    }\n\n    static get observedAttributes() {\n      return ['data-image-info'];\n    }\n\n    reLayout() {\n      const domNodes: Record<string, HTMLElement | HTMLImageElement | null> =\n        {};\n      const measures: WixImageMeasures = {};\n      const imageId = this.getAttribute('id') as string;\n      const imageInfo: ImageInfo = JSON.parse(this.dataset.imageInfo || '');\n      const isResponsive = this.dataset.isResponsive === 'true';\n      const { bgEffectName } = this.dataset;\n      const { scrollEffect } = imageInfo.imageData;\n      const { sourceSets } = imageInfo;\n      const bgEffect =\n        bgEffectName || (scrollEffect && imageEffectMap[scrollEffect]);\n\n      if (sourceSets && sourceSets.length) {\n        sourceSets.forEach((sourceSet) => {\n          if (sourceSet.scrollEffect) {\n            sourceSet.scrollEffect =\n              imageEffectMap[\n                sourceSet.scrollEffect as keyof typeof imageEffectMap\n              ];\n          }\n        });\n      }\n\n      domNodes[imageId] = this;\n\n      if (imageInfo.containerId) {\n        domNodes[imageInfo.containerId] = contextWindow.document.getElementById(\n          `${imageInfo.containerId}`,\n        );\n      }\n      const containerElm = imageInfo.containerId\n        ? (domNodes[imageInfo.containerId] as HTMLElement)\n        : undefined;\n\n      domNodes.image = this.querySelector('img');\n      domNodes.picture = this.querySelector('picture');\n\n      if (!domNodes.image) {\n        // missing children, can't layout, wait for children to be created first\n        const target = this;\n        this.observeChildren(target);\n        return;\n      }\n\n      // clean up\n      this.unobserveChildren();\n\n      // from now on just observe changes to children of top level\n      this.observeChildren(this);\n\n      services.mutationService.measure(() => {\n        imageLayout.measure(\n          imageId,\n          measures,\n          domNodes,\n          {\n            containerElm,\n            bgEffect,\n            sourceSets,\n          },\n          services,\n        );\n      });\n\n      const patchImage = (\n        shouldLoadImage: boolean,\n        loadImageImmediately?: boolean,\n      ) => {\n        services.mutationService.mutate(() => {\n          imageLayout.patch(\n            imageId,\n            measures,\n            domNodes,\n            imageInfo,\n            environmentConsts,\n            shouldLoadImage,\n            isResponsive,\n            bgEffect,\n            loadImageImmediately,\n          );\n        });\n      };\n\n      const imageElement = domNodes.image as HTMLImageElement;\n\n      const ssrSrcNeedProcessing =\n        this.dataset.hasSsrSrc && !imageElement.dataset.ssrSrcDone;\n      // if image has no src or current src if from ssr render stage  -\n      // load the image immediately, otherwise - debounce the reload\n      const loadImageImmediately =\n        !getImageSrc(imageElement) || ssrSrcNeedProcessing;\n      if (loadImageImmediately) {\n        patchImage(true, true);\n      } else {\n        this.debounceImageLoad(patchImage);\n      }\n    }\n\n    /**\n     * Debounce consecutive image loads\n     *\n     * @param {function} patchImage closure for patching the image\n     */\n    debounceImageLoad(patchImage: (shouldLoad: boolean) => void) {\n      clearTimeout(this.timeoutId as Timeout);\n\n      this.timeoutId = contextWindow.setTimeout(() => {\n        patchImage(true);\n      }, TIMEOUT) as unknown as Timeout;\n\n      patchImage(false);\n    }\n\n    observeResize() {\n      services.resizeService?.observe(this);\n    }\n\n    unobserveResize() {\n      services.resizeService?.unobserve(this);\n    }\n\n    observeIntersect() {\n      services.intersectionService?.observe(this);\n    }\n\n    unobserveIntersect() {\n      services.intersectionService?.unobserve(this);\n    }\n\n    /**\n     * Observe DOM mutations to wait for addition of missing children\n     *\n     * @param {HTMLElement} parent\n     */\n    observeChildren(parent: HTMLElement) {\n      if (!this.childListObserver) {\n        this.childListObserver = new contextWindow.MutationObserver(() => {\n          this.reLayout();\n        });\n      }\n\n      this.childListObserver.observe(parent, { childList: true });\n    }\n\n    /**\n     * Remove DOM MutationObserver if one was created\n     */\n    unobserveChildren() {\n      if (this.childListObserver) {\n        this.childListObserver.disconnect();\n        this.childListObserver = null;\n      }\n    }\n  };\n}\n\nexport default wowImageFactory;\n","import wowImageFactory from './WowImage';\nimport fastdom from 'fastdom';\nimport type {\n  WixImageExternalServices,\n  WixImageServices,\n  WowImage,\n  EnvConsts,\n} from '../types';\n\nexport default function init(\n  contextWindow: (Window & typeof globalThis) | null,\n  services: WixImageExternalServices,\n) {\n  const elementName = 'wow-image';\n  contextWindow = contextWindow || window;\n\n  if (contextWindow.customElements.get(elementName) === undefined) {\n    let resizeObserver: ResizeObserver;\n\n    if (contextWindow.ResizeObserver) {\n      resizeObserver = new contextWindow.ResizeObserver(\n        (entries: ResizeObserverEntry[]) =>\n          entries.map((entry) => (entry.target as WowImage).reLayout()),\n      );\n    }\n\n    let intersectionObserver: IntersectionObserver;\n\n    if (contextWindow.IntersectionObserver) {\n      intersectionObserver = new IntersectionObserver(\n        (entries: IntersectionObserverEntry[]) =>\n          entries.map((entry) => {\n            if (entry.isIntersecting) {\n              const wowImage = entry.target as WowImage;\n              wowImage.unobserveIntersect();\n              // resize Observe will invoke relayout imidiatly.\n              // \"Observation will fire when observation starts if Element is being rendered, and Elements size is not 0,0,\"\n              // https://drafts.csswg.org/resize-observer/#dom-resizeobserver-observe\n              wowImage.observeResize();\n            }\n            return entry;\n          }),\n        {\n          /**\n           * old: 50% from 1080 (desktop) is 540px, 800 (mobile) 400px\n           * new: 150% from 1080 (desktop) is 1620, 800 (mobile) 1200\n           * chrome [loading=lazy]: 4g - 1250px, lower then 3g - 2500px\n           * @see https://web.dev/articles/browser-level-image-lazy-loading#improved-thresholds\n           */\n          rootMargin: '150% 100%',\n        },\n      );\n    }\n\n    return function (env: EnvConsts) {\n      const WowImage = wowImageFactory(\n        {\n          resizeService: resizeObserver,\n          intersectionService: intersectionObserver,\n          mutationService: fastdom,\n          ...services,\n        } as WixImageServices,\n        env,\n        contextWindow!,\n      );\n      contextWindow!.customElements.define(elementName, WowImage);\n    };\n  }\n\n  return;\n}\n","import init from './custom-element/registry';\nimport { WixImageExternalServices, EnvConsts } from './types';\n\nconst getDevicePixelRatio = () => {\n  const isMSMobileDevice = /iemobile/i.test(navigator.userAgent);\n\n  if (isMSMobileDevice) {\n    return Math.round(\n      window.screen.availWidth /\n        (window.screen.width || window.document.documentElement.clientWidth),\n    );\n  }\n\n  return window.devicePixelRatio;\n};\n\nconst STATIC_MEDIA_URL = 'https://static.wixstatic.com/media';\nconst MEDIA_ROOT_URL = 'https://static.wixstatic.com';\n\nfunction initCustomElement(\n  services: WixImageExternalServices = {},\n  contextWindow: (Window & typeof globalThis) | null = null,\n  envConsts: Partial<EnvConsts> = {} as Partial<EnvConsts>,\n) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  const env = {\n    staticMediaUrl: STATIC_MEDIA_URL,\n    mediaRootUrl: MEDIA_ROOT_URL,\n    experiments: {},\n    devicePixelRatio: getDevicePixelRatio(),\n    ...envConsts,\n  } as EnvConsts;\n\n  const define = init(contextWindow, services);\n\n  if (define) {\n    define(env);\n  }\n}\n\nexport { initCustomElement };\n","import { Image, imageKit } from './Image';\nimport { ImageNG } from './ImageNG';\nimport { initCustomElement } from './customElementInit';\n\nexport { Image, ImageNG, initCustomElement, imageKit };\nexport * from './types';\n"],"names":["API_VERSION","MAX_DEVICE_PIXEL_RATIO","DSKTP_MAX_BG_SITE_LEGACY_WIDTH","DSKTP_MAX_BG_SITE_LEGACY_HEIGHT","MOBILE_MAX_BG_SITE_LEGACY_WIDTH","MOBILE_MAX_BG_SITE_LEGACY_HEIGHT","fittingTypes","SCALE_TO_FILL","SCALE_TO_FIT","STRETCH","ORIGINAL_SIZE","TILE","TILE_HORIZONTAL","TILE_VERTICAL","FIT_AND_TILE","LEGACY_STRIP_TILE","LEGACY_STRIP_TILE_HORIZONTAL","LEGACY_STRIP_TILE_VERTICAL","LEGACY_STRIP_SCALE_TO_FILL","LEGACY_STRIP_SCALE_TO_FIT","LEGACY_STRIP_FIT_AND_TILE","LEGACY_STRIP_ORIGINAL_SIZE","LEGACY_ORIGINAL_SIZE","LEGACY_FIT_WIDTH","LEGACY_FIT_HEIGHT","LEGACY_FULL","LEGACY_BG_FIT_AND_TILE","LEGACY_BG_FIT_AND_TILE_HORIZONTAL","LEGACY_BG_FIT_AND_TILE_VERTICAL","LEGACY_BG_NORMAL","transformTypes","FIT","FILL","FILL_FOCAL","CROP","LEGACY_CROP","LEGACY_FILL","alignTypes","CENTER","TOP","TOP_LEFT","TOP_RIGHT","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","RIGHT","ALIGN_TYPE_TO_FOCAL_POINT","x","y","alignTypesMap","center","top","top_left","top_right","bottom","bottom_left","bottom_right","left","right","htmlTag","BG","IMG","SVG","upscaleMethods","AUTO","CLASSIC","SUPER","upscaleMethodsValues","classic","super","defaultUSM","radius","amount","threshold","emptyData","uri","css","img","container","attr","transformed","MAX_TRANSFORMED_IMAGE_WIDTH","MAX_TRANSFORMED_IMAGE_HEIGHT","SAFE_TRANSFORMED_AREA","SUPER_UPSCALE_MODELS","imageScaleDefaults","HIGH","size","quality","maxUpscale","MEDIUM","LOW","TINY","imageQuality","imageFilters","CONTRAST","BRIGHTNESS","SATURATION","HUE","BLUR","fileType","JPG","JPEG","JPE","PNG","WEBP","WIX_ICO_MP","WIX_MP","GIF","AVIF","UNRECOGNIZED","encodingTypes","PAVIF","supportedExtensions","template","strings","_len","arguments","length","keys","Array","_key","_len2","values","_key2","dict","result","forEach","key","i","value","Number","isInteger","push","join","last","array","SUPPORTED_IMAGE_EXTENSIONS","JPG_EXTENSIONS","isImageTypeSupported","includes","getFileExtension","isValidRequest","fittingType","src","target","isUrlEmptyOrNone","id","Object","canTransformIfAnimatedImage","hasAnimation","allowAnimatedTransform","isAvifWebpFormat","isWEBP","isAVIF","isTransformableGIF","isGIF","isImageTransformApplicable","isExternalUrl","isJPG","isPNG","url","test","trim","toLowerCase","isSEOBot","options","ILLEGAL_CHARS","map","encodeURIComponent","URL_SAFE_ILLEGAL_CHARS","ILLEGAL_CHARS_REPLACEMENT","getFileName","name","beforeLeadingSlashRegexp","fileExtensionRegexp","illegalCharsRegex","RegExp","concat","fileName","extension","match","replace","trimmed","getFileType","splitURI","exec","getFitScaleFactor","sWidth","sHeight","dWidth","dHeight","Math","min","getFillScaleFactor","max","getScaleFactor","transformType","scaleFactor","getSafeTransformData","width","height","dimensionScaleFactor","sqrt","getTransformData","dpr","upscaleMethod","getOptimizedTransformData","getFocalPointFrom9GridAlignment","alignment","getAlignedRect","sRect","dRect","sFP","fp","getFocalPoint","getOverlappingRect","isValidRect","getDevicePixelRatio","pixelAspectRatio","getAlignment","focalPoint","isNaN","roundToFixed","getPreferredImageQuality","imageWidth","imageHeight","getImageQualityKey","getClassicScaleData","imageKey","optimizedScaleFactor","upscaleMethodValue","forceUSM","getAutoScaleData","getSuperScaleData","getOptimizedScaleData","tWidth","tHeight","cssUpscaleNeeded","getDimension","round","precision","truncatePrecision","pow","toFixed","getUpscaleString","toUpperCase","imageIsAnimated","globalFeaturesSupportObj","isMobile","getFeature","feature","setFeature","populateGlobalFeatureSupport","window","navigator","isSmallScreen","matchMedia","matches","isMobileAgent","userAgent","getCSS","transformsObj","attributes","backgroundSize","backgroundRepeat","backgroundPosition","get","alignTypeToPosition","verticalMiddle","horizontalMiddle","objectFit","alignTypeToPositionStr","aligmentDefaults","position","alignType","parts","objectPosition","assign","getSvgAttr","sourceWidth","sourceHeight","imageScale","preserveAspectRatio","transform","middle","viewBox","backgroundAttributes","imgAttributes","SVGAttributes","getAttributes","attributesGetter","setTransformParts","rect","crop","isCropped","getCropPart","getFitPart","getFillPart","getStretchPart","getLegacyCropPart","getLegacyFitPart","getLegacyFillPart","transformedData","devicePixelRatio","isMissingSrcDimensions","upscale","focalPointX","focalPointY","clonedTarget","setTransformOptions","_options","getQuality","progressive","getProgressive","watermark","getWatermark","autoEncode","encoding","unsharpMask","getUnsharpMask","filters","getFilters","isQualitySupported","transformData","defaultQuality","filterOptions","isValidImageFilter","filterValue","minValue","maxValue","isUSMValid","_options$unsharpMask","_options$unsharpMask2","_options$unsharpMask3","isZeroUSM","isUSMNeeded","transformPart","usm","getTransform","_isSEOBot","fileExtension","preferredExtension","canTransformImage","isAnimated","getTarget","targetObj","_isMobile","maxBGSiteLegacyWidth","maxBGSiteLegacyHeight","fitTemplate","fillTemplate","fillFocalTemplate","cropTemplate","legacyCropTemplate","legacyFillTemplate","upscaleTemplate","qualityTemplate","qualityAutoTemplate","unSharpMaskTemplate","nonProgressiveTemplate","watermarkTemplate","filterTemplatesMap","autoEncodeTemplate","AVIFEncodeTemplate","pAVIFEncodeTemplate","animatedTransformTemplate","getImageURI","_transformsObj$src","transformsObjStrArr","legacyFillStr","fitStr","fillStr","fillFocalStr","transformsStr","filterName","getURI","transformObj","_options2","transformTarget","undefined","getSrcset","data","ALIGN_TYPE_TO_POSITION","POSITION_TO_ALIGN_TYPE","entries","reduce","acc","_ref","align","TILE_FITTING_TYPES","NON_SCALING_FITTING_TYPES","getIsFakeTile","_ref2","targetWidth","targetHeight","getScaledDimensions","_ref3","isScalable","isFakeTile","isTile","_width","_height","getScaleFactorByWidth","getConvertedFitting","isFill","validateTargetDimensions","_ref4","heightRatio","isHighQuality","getBlurValue","getCSSOverrides","returnValue","alignTypeFromFocalPoint","convertFocalPointToAlignType","convertFillFocalToPosition","sW","sH","tW","tH","fpX","fpY","fillScaleFactor","imgScaledW","imgScaledH","posX","floor","posY","PLACEHOLDER_IMG_CSS_OVERRIDES","getPlaceholder","shouldLoadHQImage","IS_IN_PLACEHOLDER_FLOW","getData","useSrcset","newTarget","scaledDimensions","blur","convertedFittingType","overrideCSS","srcset","wixStatic","wixStaticWithMedia","HAS_MEDIA_PREFIX_RE","getWixStaticURL","getURL","baseHostURL","getScaleToFitImageURL","relativeUrl","getScaleToFillImageURL","getCropImageURL","cropX","cropY","cropWidth","cropHeight","STATIC_MEDIA_URL","getCropDataWithAlign","targetAspectRatio","originalAspectRatio","originalHeight","originalWidth","lowerWidth","bpWidth","WIDTHS","getSources","widthProportion","siteMargin","displayMode","hasOriginalSizeDisplayMode","index","isLowestBreakpoint","getWidth","w","lowerBpWidth","currentBpWidth","useManualCrop","manualCrop","fallbackSrc","getResponsiveImageProps","sizes","media","imgStyle","imageProps","_srcset$dpr","srcsetWithPrefix","s","srcsetString","sources","filter","Boolean","reverse","sdk","React","styles","imageKit","fetchLQIP","placeholder","SCHEME_RE","Image","props","_ssrResult$css","containerId","alt","role","bgEffectName","className","imageStyles","targetScale","onLoad","onError","shouldUseLQIP","containerWidth","containerHeight","isInFirstFold","placeholderTransition","socialAttrs","skipMeasure","imageRef","useRef","hasSsrSrc","hasBlurTransition","ssrImageData","current","isLQIP","imageInfo","useMemo","JSON","stringify","lqipTransition","imageData","ssrResult","placeholderStyle","classNames","image","useEffect","imgElement","currentSrc","complete","maxWidth","createElement","class","style","_extends","ref","srcSet","fetchpriority","loading","suppressHydrationWarning","camelToKebab","str","a","b","CSS_NUMERIC_VALUES","columnCount","columns","fontWeight","lineHeight","opacity","zIndex","zoom","pick","obj","propsArr","isArray","subObj","prop","val","addDefaultUnitIfNeeded","toString","setStyle","node","styleProperties","styleProp","propValue","removeProperty","getScreenHeight","heightOverride","document","documentElement","clientHeight","innerHeight","getImageComputedProperties","extendedImageInfo","envConsts","imageOptions","devicePixelRatioFromData","imageComputedProperties","getMediaUrlByContext","staticMediaUrl","mediaRootUrl","imageUri","path","_exec","queryParams","location","search","split","query","devicePixelRatioQueryParam","find","_query$","devicePixelRatioValueForceFromUrl","getImageSrc","imageNode","getAttribute","isTransformedWEBP","isTransformed","getMediaSizeQueryString","_","MEDIA_ROOT_URL","targetSize","inverseAspectRatio","fromEntries","cropW","cropH","animated","ImageNG","priority","decorative","dataset","sourcesAttributes","_image$crop","_image$crop2","_image$crop3","_image$crop4","targetSizes","type","defaultSource","fullSizeSrc","dataAttrs","MOBILE_SAFE_ADDRESSBAR_HEIGHT","getHeightOverride","mediaHeightOverrideType","computeScaleOverrides","imageStyle","computeStyleOverrides","isResponsive","styleWithScale","getSourceSetsTargetHeightByEffect","sourceSets","offsetWidth","offsetHeight","screenHeight","services","sourceSetsTargetHeights","mediaQuery","scrollEffect","getMediaDimensionsByEffect","computeSrcSets","measures","mediaToUri","imageInfoClone","measure","domNodes","containerElm","bgEffect","innerImage","wixImage","getScreenHeightOverride","hasBgEffect","some","sourceOfDimensions","cssBgEffect","getComputedStyle","getPropertyValue","imgSrc","boundingRect","getBoundingClientRect","patch","loadImage","loadImageImmediately","_imageComputedPropert","wixImageNode","computedStyle","ssrSrcDone","transitioned","onload","loadDone","setAttribute","srcIsMissingFromSrcset","source","picture","from","querySelectorAll","sourceNode","imageLayout","TIMEOUT","imageEffectMap","parallax","fixed","wowImageFactory","environmentConsts","contextWindow","WowImage","HTMLElement","constructor","_defineProperty","childListObserver","timeoutId","attributeChangedCallback","oldValue","reLayout","connectedCallback","disableImagesLazyLoading","observeIntersect","disconnectedCallback","unobserveResize","unobserveIntersect","unobserveChildren","observedAttributes","imageId","parse","sourceSet","getElementById","querySelector","observeChildren","mutationService","patchImage","shouldLoadImage","mutate","imageElement","ssrSrcNeedProcessing","debounceImageLoad","clearTimeout","setTimeout","observeResize","_services$resizeServi","resizeService","observe","_services$resizeServi2","unobserve","_services$intersectio","intersectionService","_services$intersectio2","parent","MutationObserver","childList","disconnect","fastdom","init","elementName","customElements","resizeObserver","ResizeObserver","entry","intersectionObserver","IntersectionObserver","isIntersecting","wowImage","rootMargin","env","define","isMSMobileDevice","screen","availWidth","clientWidth","initCustomElement","experiments"],"sourceRoot":""}