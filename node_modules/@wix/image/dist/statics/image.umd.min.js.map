{"version":3,"file":"image.umd.min.js","mappings":"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","sources":["webpack://_wix_image/webpack/universalModuleDefinition","webpack://_wix_image/../../../node_modules/fastdom/fastdom.js","webpack://_wix_image/external umd \"React\"","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/defineProperty.js","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/extends.js","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://_wix_image/../../../node_modules/@babel/runtime/helpers/typeof.js","webpack://_wix_image/webpack/bootstrap","webpack://_wix_image/webpack/runtime/compat get default export","webpack://_wix_image/webpack/runtime/define property getters","webpack://_wix_image/webpack/runtime/hasOwnProperty shorthand","webpack://_wix_image/webpack/runtime/make namespace object","webpack://_wix_image/./Image.module.scss","webpack://_wix_image/../../../src/helpers/imageServiceConstants.ts","webpack://_wix_image/../../../src/helpers/utils.ts","webpack://_wix_image/../../../src/helpers/imageServiceUtils.ts","webpack://_wix_image/../../../src/helpers/imageServiceFeatureSupportObject.ts","webpack://_wix_image/../../../src/helpers/populateFeatureSupport.ts","webpack://_wix_image/../../../../src/engines/attributes/backgroundAttributes.ts","webpack://_wix_image/../../../../src/engines/attributes/imgAttributes.ts","webpack://_wix_image/../../../../src/engines/attributes/SVGAttributes.ts","webpack://_wix_image/../../../src/helpers/imageTransformParts.ts","webpack://_wix_image/../../../src/helpers/imageTransformOptions.ts","webpack://_wix_image/../../../src/api/transform.ts","webpack://_wix_image/../../../src/helpers/browserFeatureSupport.ts","webpack://_wix_image/../../../src/engines/transforms.ts","webpack://_wix_image/../../../src/api/uri.ts","webpack://_wix_image/../../../src/helpers/imagePlaceholderUtils.ts","webpack://_wix_image/../../../../src/api/max/api.ts","webpack://_wix_image/../../../src/api/srcset.ts","webpack://_wix_image/../../../src/engines/attributes.ts","webpack://_wix_image/../../../../src/api/uri/index.ts","webpack://_wix_image/../../../src/sdk/api.ts","webpack://_wix_image/../../../src/sdk/index.ts","webpack://_wix_image/../../../src/helpers/responsiveImageUtils.ts","webpack://_wix_image/../../../../src/api/max/index.ts","webpack://_wix_image/./Image.tsx","webpack://_wix_image/./utils.ts","webpack://_wix_image/./custom-element/utils.ts","webpack://_wix_image/./imageNG.module.scss","webpack://_wix_image/./ImageNG.tsx","webpack://_wix_image/./custom-element/imageLayout.ts","webpack://_wix_image/./custom-element/WowImage.ts","webpack://_wix_image/./customElementInit.ts","webpack://_wix_image/./custom-element/registry.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"image\", [\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"image\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"image\"] = factory(root[\"React\"]);\n})((typeof self !== 'undefined' ? self : this), (__WEBPACK_EXTERNAL_MODULE__883__) => {\nreturn ","!(function(win) {\n\n/**\n * FastDom\n *\n * Eliminates layout thrashing\n * by batching DOM read/write\n * interactions.\n *\n * @author Wilson Page <wilsonpage@me.com>\n * @author Kornel Lesinski <kornel.lesinski@ft.com>\n */\n\n'use strict';\n\n/**\n * Mini logger\n *\n * @return {Function}\n */\nvar debug = 0 ? console.log.bind(console, '[fastdom]') : function() {};\n\n/**\n * Normalized rAF\n *\n * @type {Function}\n */\nvar raf = win.requestAnimationFrame\n  || win.webkitRequestAnimationFrame\n  || win.mozRequestAnimationFrame\n  || win.msRequestAnimationFrame\n  || function(cb) { return setTimeout(cb, 16); };\n\n/**\n * Initialize a `FastDom`.\n *\n * @constructor\n */\nfunction FastDom() {\n  var self = this;\n  self.reads = [];\n  self.writes = [];\n  self.raf = raf.bind(win); // test hook\n  debug('initialized', self);\n}\n\nFastDom.prototype = {\n  constructor: FastDom,\n\n  /**\n   * We run this inside a try catch\n   * so that if any jobs error, we\n   * are able to recover and continue\n   * to flush the batch until it's empty.\n   *\n   * @param {Array} tasks\n   */\n  runTasks: function(tasks) {\n    debug('run tasks');\n    var task; while (task = tasks.shift()) task();\n  },\n\n  /**\n   * Adds a job to the read batch and\n   * schedules a new frame if need be.\n   *\n   * @param  {Function} fn\n   * @param  {Object} ctx the context to be bound to `fn` (optional).\n   * @public\n   */\n  measure: function(fn, ctx) {\n    debug('measure');\n    var task = !ctx ? fn : fn.bind(ctx);\n    this.reads.push(task);\n    scheduleFlush(this);\n    return task;\n  },\n\n  /**\n   * Adds a job to the\n   * write batch and schedules\n   * a new frame if need be.\n   *\n   * @param  {Function} fn\n   * @param  {Object} ctx the context to be bound to `fn` (optional).\n   * @public\n   */\n  mutate: function(fn, ctx) {\n    debug('mutate');\n    var task = !ctx ? fn : fn.bind(ctx);\n    this.writes.push(task);\n    scheduleFlush(this);\n    return task;\n  },\n\n  /**\n   * Clears a scheduled 'read' or 'write' task.\n   *\n   * @param {Object} task\n   * @return {Boolean} success\n   * @public\n   */\n  clear: function(task) {\n    debug('clear', task);\n    return remove(this.reads, task) || remove(this.writes, task);\n  },\n\n  /**\n   * Extend this FastDom with some\n   * custom functionality.\n   *\n   * Because fastdom must *always* be a\n   * singleton, we're actually extending\n   * the fastdom instance. This means tasks\n   * scheduled by an extension still enter\n   * fastdom's global task queue.\n   *\n   * The 'super' instance can be accessed\n   * from `this.fastdom`.\n   *\n   * @example\n   *\n   * var myFastdom = fastdom.extend({\n   *   initialize: function() {\n   *     // runs on creation\n   *   },\n   *\n   *   // override a method\n   *   measure: function(fn) {\n   *     // do extra stuff ...\n   *\n   *     // then call the original\n   *     return this.fastdom.measure(fn);\n   *   },\n   *\n   *   ...\n   * });\n   *\n   * @param  {Object} props  properties to mixin\n   * @return {FastDom}\n   */\n  extend: function(props) {\n    debug('extend', props);\n    if (typeof props != 'object') throw new Error('expected object');\n\n    var child = Object.create(this);\n    mixin(child, props);\n    child.fastdom = this;\n\n    // run optional creation hook\n    if (child.initialize) child.initialize();\n\n    return child;\n  },\n\n  // override this with a function\n  // to prevent Errors in console\n  // when tasks throw\n  catch: null\n};\n\n/**\n * Schedules a new read/write\n * batch if one isn't pending.\n *\n * @private\n */\nfunction scheduleFlush(fastdom) {\n  if (!fastdom.scheduled) {\n    fastdom.scheduled = true;\n    fastdom.raf(flush.bind(null, fastdom));\n    debug('flush scheduled');\n  }\n}\n\n/**\n * Runs queued `read` and `write` tasks.\n *\n * Errors are caught and thrown by default.\n * If a `.catch` function has been defined\n * it is called instead.\n *\n * @private\n */\nfunction flush(fastdom) {\n  debug('flush');\n\n  var writes = fastdom.writes;\n  var reads = fastdom.reads;\n  var error;\n\n  try {\n    debug('flushing reads', reads.length);\n    fastdom.runTasks(reads);\n    debug('flushing writes', writes.length);\n    fastdom.runTasks(writes);\n  } catch (e) { error = e; }\n\n  fastdom.scheduled = false;\n\n  // If the batch errored we may still have tasks queued\n  if (reads.length || writes.length) scheduleFlush(fastdom);\n\n  if (error) {\n    debug('task errored', error.message);\n    if (fastdom.catch) fastdom.catch(error);\n    else throw error;\n  }\n}\n\n/**\n * Remove an item from an Array.\n *\n * @param  {Array} array\n * @param  {*} item\n * @return {Boolean}\n */\nfunction remove(array, item) {\n  var index = array.indexOf(item);\n  return !!~index && !!array.splice(index, 1);\n}\n\n/**\n * Mixin own properties of source\n * object into the target.\n *\n * @param  {Object} target\n * @param  {Object} source\n */\nfunction mixin(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) target[key] = source[key];\n  }\n}\n\n// There should never be more than\n// one instance of `FastDom` in an app\nvar exports = win.fastdom = (win.fastdom || new FastDom()); // jshint ignore:line\n\n// Expose to CJS & AMD\nif ((typeof define) == 'function') define(function() { return exports; });\nelse if ((typeof module) == 'object') module.exports = exports;\n\n})( typeof window !== 'undefined' ? window : typeof this != 'undefined' ? this : globalThis);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__883__;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _extends() {\n  return module.exports = _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _extends.apply(null, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"dSF_1i\"};",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as React from 'react';\nimport type { ImageInfo, ImageProps } from './types';\nimport styles from './Image.module.scss';\nimport { ImageAttributesData, ImagePlaceholderData } from './types';\nimport * as imageKit from '@wix/image-kit';\n\nconst { STATIC_MEDIA_URL } = imageKit;\n\nconst fetchLQIP = ({\n  fittingType,\n  src,\n  target,\n  options,\n}: ImagePlaceholderData): ImageAttributesData => {\n  const placeholder = imageKit.getPlaceholder(fittingType, src, target, {\n    ...options,\n    autoEncode: true,\n  });\n\n  if (placeholder?.uri && !/^[a-z]+:/.test(placeholder.uri)) {\n    placeholder.uri = `${STATIC_MEDIA_URL}${placeholder.uri}`;\n  }\n\n  return placeholder as ImageAttributesData;\n};\n\nconst SCHEME_RE = /^[a-z]+:/;\n\nconst Image: React.FC<ImageProps> = (props) => {\n  const {\n    id,\n    containerId,\n    uri,\n    alt,\n    name = '',\n    role,\n    width,\n    height,\n    displayMode,\n    devicePixelRatio,\n    quality,\n    alignType,\n    bgEffectName = '',\n    focalPoint,\n    upscaleMethod,\n    className = '',\n    crop,\n    imageStyles = {},\n    targetWidth,\n    targetHeight,\n    targetScale,\n    onLoad = () => {},\n    onError = () => {},\n    shouldUseLQIP,\n    containerWidth,\n    containerHeight,\n    getPlaceholder,\n    isInFirstFold,\n    placeholderTransition,\n    socialAttrs,\n    isSEOBot,\n    skipMeasure,\n    hasAnimation,\n    encoding,\n  } = props;\n  const imageRef = React.useRef<HTMLImageElement>(null);\n  // fix containerId and id to support hoverBox component\n  let hasSsrSrc: '' | 'true' = '';\n\n  const hasBlurTransition = placeholderTransition === 'blur';\n\n  const ssrImageData = React.useRef<ImageAttributesData | null>(null);\n\n  if (!ssrImageData.current) {\n    if (getPlaceholder || shouldUseLQIP || isInFirstFold || isSEOBot) {\n      const options = {\n        upscaleMethod,\n        ...(quality ? quality : {}),\n        shouldLoadHQImage: isInFirstFold,\n        isSEOBot,\n        hasAnimation,\n        encoding,\n      };\n\n      ssrImageData.current = (getPlaceholder || fetchLQIP)({\n        fittingType: displayMode,\n        src: {\n          id: uri,\n          width,\n          height,\n          crop,\n          name,\n          focalPoint,\n        },\n        target: {\n          width: containerWidth,\n          height: containerHeight,\n          alignment: alignType,\n          htmlTag: 'img',\n        },\n        options,\n      });\n\n      hasSsrSrc =\n        !ssrImageData.current.transformed || isInFirstFold || isSEOBot\n          ? ''\n          : 'true';\n    } else {\n      // to keep an empty placeholder data\n      ssrImageData.current = {\n        uri: undefined, // to remove src attribute completely\n        css: { img: {} },\n        attr: { img: {}, container: {} },\n        transformed: false,\n      };\n    }\n  }\n\n  const isLQIP =\n    !isSEOBot &&\n    (getPlaceholder || shouldUseLQIP) &&\n    !isInFirstFold &&\n    ssrImageData.current.transformed;\n\n  const imageInfo = React.useMemo(\n    () =>\n      JSON.stringify({\n        containerId,\n        ...(containerId && { containerId }),\n        ...(alignType && { alignType }),\n        ...(skipMeasure && { skipMeasure: true }),\n        displayMode,\n        ...(containerWidth && { targetWidth: containerWidth }),\n        ...(containerHeight && { targetHeight: containerHeight }),\n        ...(targetWidth && { targetWidth }),\n        ...(targetHeight && { targetHeight }),\n        ...(targetScale && { targetScale }),\n        isLQIP,\n        isSEOBot,\n        lqipTransition: placeholderTransition,\n        encoding,\n        imageData: {\n          width,\n          height,\n          uri,\n          name,\n          displayMode,\n          hasAnimation,\n          ...(quality && { quality }),\n          ...(devicePixelRatio && { devicePixelRatio }),\n          ...(focalPoint && { focalPoint }),\n          ...(crop && { crop }),\n          ...(upscaleMethod && { upscaleMethod }),\n        },\n      } satisfies ImageInfo),\n    [\n      containerId,\n      alignType,\n      skipMeasure,\n      displayMode,\n      containerWidth,\n      containerHeight,\n      targetWidth,\n      targetHeight,\n      targetScale,\n      isLQIP,\n      isSEOBot,\n      placeholderTransition,\n      encoding,\n      width,\n      height,\n      uri,\n      name,\n      hasAnimation,\n      quality,\n      devicePixelRatio,\n      focalPoint,\n      crop,\n      upscaleMethod,\n    ],\n  );\n\n  const ssrResult = ssrImageData.current;\n  const src = ssrResult?.uri;\n  const srcset = ssrResult?.srcset;\n  const placeholderStyle = ssrResult.css?.img;\n  const classNames = `${styles.image} ${className}`;\n\n  React.useEffect(() => {\n    // When image comes from cache onLoad not trigger on native HTML element\n    const imgElement = imageRef.current;\n    if (onLoad && imgElement?.currentSrc && imgElement?.complete) {\n      onLoad({\n        target: imgElement,\n      } satisfies Partial<React.SyntheticEvent<HTMLImageElement>> as unknown as React.SyntheticEvent<HTMLImageElement>);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const maxWidth =\n    ssrResult && !ssrResult?.transformed\n      ? `max(${width}px, 100%)`\n      : targetWidth\n      ? `${targetWidth}px`\n      : null;\n\n  return (\n    <wow-image\n      id={id}\n      class={classNames}\n      data-image-info={imageInfo}\n      // TODO: get the correct id to place here\n      data-motion-part={`BG_IMG ${containerId}`}\n      data-bg-effect-name={bgEffectName}\n      data-has-ssr-src={hasSsrSrc}\n      data-animate-blur={\n        !isSEOBot && isLQIP && hasBlurTransition ? '' : undefined\n      }\n      style={maxWidth ? { '--wix-img-max-width': maxWidth } : {}}\n    >\n      <img\n        src={src}\n        ref={imageRef}\n        alt={alt || ''}\n        role={role}\n        style={{ ...placeholderStyle, ...imageStyles }}\n        onLoad={onLoad}\n        onError={onError}\n        width={containerWidth ? containerWidth : undefined}\n        height={containerHeight ? containerHeight : undefined}\n        {...socialAttrs}\n        srcSet={\n          isInFirstFold\n            ? srcset?.dpr\n                ?.map((s: string) =>\n                  SCHEME_RE.test(s) ? s : `${STATIC_MEDIA_URL}${s}`,\n                )\n                .join(', ')\n            : undefined\n        }\n        // @ts-expect-error fetchpriority type should work in react > 18.3 https://github.com/facebook/react/pull/25927\n        fetchpriority={isInFirstFold ? 'high' : undefined}\n        loading={isInFirstFold === false ? 'lazy' : undefined}\n        // The src attribute triggers a mismatch warning because wow-image updates its src outside of the React lifecycle. This causes React to retain the old value in the virtual DOM, which could potentially lead to a bug where the old value is re-rendered during updates. However, we’re confident that this issue is not reproducing in current (16-18) React versions\n        suppressHydrationWarning\n      />\n    </wow-image>\n  );\n};\n\nexport { Image, imageKit };\n","export const camelToKebab = (str: string): string =>\n  str.replace(\n    /[A-Z]+(?![^A-Z])|[A-Z]/g,\n    (a, b) => (b ? '-' : '') + a.toLowerCase(),\n  );\n","import {\n  alignTypes,\n  fittingTypes,\n  getData,\n  isWEBP,\n  getFileExtension,\n  fileType,\n} from '@wix/image-kit';\nimport type { ImageTransformSource, ImageDataAttributes } from '@wix/image-kit';\nimport { camelToKebab } from '../utils';\nimport { EnvConsts, MediaSizeQuery } from '../types';\nimport { CSSProperties } from 'react';\n\nconst CSS_NUMERIC_VALUES = {\n  columnCount: 1,\n  columns: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  zIndex: 1,\n  zoom: 1,\n};\n\nconst pick = <T extends Record<string, any>, K extends keyof T>(\n  obj: T,\n  props: K | K[],\n) => {\n  const propsArr = Array.isArray(props) ? props : [props];\n  return propsArr.reduce((subObj, prop) => {\n    const val = obj[prop];\n    return val !== undefined ? Object.assign(subObj, { [prop]: val }) : subObj;\n  }, {} as Partial<Pick<T, K>>);\n};\n\nconst addDefaultUnitIfNeeded = (\n  prop: keyof React.CSSProperties,\n  value: Exclude<CSSProperties[keyof CSSProperties], undefined>,\n): string =>\n  typeof value === 'number' &&\n  !CSS_NUMERIC_VALUES[prop as keyof typeof CSS_NUMERIC_VALUES]\n    ? `${value}px`\n    : value.toString();\n\nconst setStyle = (\n  node?: HTMLElement | HTMLImageElement,\n  styleProperties?: React.CSSProperties,\n) =>\n  node &&\n  styleProperties &&\n  Object.keys(styleProperties).forEach((prop) => {\n    const styleProp = prop as keyof React.CSSProperties;\n    const propValue = styleProperties[styleProp];\n\n    if (propValue !== undefined) {\n      node.style[styleProp as any] = addDefaultUnitIfNeeded(\n        styleProp,\n        propValue,\n      );\n    } else {\n      node.style.removeProperty(styleProp);\n    }\n  });\n\nconst getScreenHeight = (heightOverride?: number) =>\n  heightOverride ||\n  document.documentElement.clientHeight ||\n  window.innerHeight ||\n  0;\n\nconst getImageComputedProperties = (\n  extendedImageInfo: Record<string, any>,\n  envConsts: EnvConsts,\n  htmlTag: keyof JSX.IntrinsicElements,\n): ImageDataAttributes => {\n  // todo: CLNT-5323 , wixapp sildergallery proxy is generating image data without uri\n  if (\n    !extendedImageInfo.targetWidth ||\n    !extendedImageInfo.targetHeight ||\n    !extendedImageInfo.imageData.uri\n  ) {\n    return { uri: '', css: {}, transformed: false };\n  }\n\n  const { imageData } = extendedImageInfo;\n  const fittingType =\n    extendedImageInfo.displayMode || fittingTypes.SCALE_TO_FILL;\n  const imageOptions = Object.assign(\n    pick(imageData, ['upscaleMethod']),\n    pick(extendedImageInfo, ['filters', 'encoding']),\n    extendedImageInfo.quality || imageData.quality,\n    {\n      hasAnimation: extendedImageInfo?.hasAnimation || imageData?.hasAnimation,\n    },\n  );\n\n  const devicePixelRatioFromData =\n    extendedImageInfo.imageData.devicePixelRatio || envConsts.devicePixelRatio;\n  const devicePixelRatio = getDevicePixelRatio(devicePixelRatioFromData);\n\n  const src = Object.assign(\n    pick(imageData, ['width', 'height', 'crop', 'name', 'focalPoint']),\n    { id: imageData.uri },\n  ) as ImageTransformSource;\n  const target = {\n    width: extendedImageInfo.targetWidth,\n    height: extendedImageInfo.targetHeight,\n    htmlTag: (htmlTag || 'img') as 'img' | 'bg',\n    pixelAspectRatio: devicePixelRatio,\n    alignment: extendedImageInfo.alignType || alignTypes.CENTER,\n  };\n\n  const imageComputedProperties = getData(\n    fittingType,\n    src,\n    target,\n    imageOptions,\n  );\n  imageComputedProperties.uri = getMediaUrlByContext(\n    imageComputedProperties.uri as string,\n    envConsts.staticMediaUrl,\n    envConsts.mediaRootUrl,\n  );\n  return imageComputedProperties;\n};\n\nconst getMediaUrlByContext = (\n  imageUri: string,\n  staticMediaUrl: string,\n  mediaRootUrl: string,\n) => {\n  const isExternalUrl = /(^https?)|(^data)|(^blob)|(^\\/\\/)/.test(imageUri);\n\n  if (isExternalUrl) {\n    return imageUri;\n  }\n\n  let path = `${staticMediaUrl}/`;\n\n  if (imageUri) {\n    if (/^micons\\//.test(imageUri)) {\n      path = mediaRootUrl;\n    } else if (/[^.]+$/.exec(imageUri)?.[0] === 'ico') {\n      // if the image is an icon then it's taken from a slightly different place\n      path = path.replace('media', 'ficons');\n    }\n  }\n  return path + imageUri;\n};\n\nconst getDevicePixelRatio = (devicePixelRatio?: number) => {\n  // we should be able to force devicePixelRatio from url by using the query param -\n  const queryParams = window.location.search\n    .split('&')\n    .map((query) => query.split('='));\n  const devicePixelRatioQueryParam = queryParams.find((query) =>\n    query[0]?.toLowerCase().includes('devicepixelratio'),\n  );\n  const devicePixelRatioValueForceFromUrl = devicePixelRatioQueryParam?.[1]\n    ? Number(devicePixelRatioQueryParam[1])\n    : null;\n  return devicePixelRatioValueForceFromUrl || devicePixelRatio || 1;\n};\n\nconst getImageSrc = (imageNode: HTMLImageElement) =>\n  imageNode.getAttribute('src');\n\nconst isTransformedWEBP = (imageNode: HTMLImageElement, imageUri: string) => {\n  const src = getImageSrc(imageNode) || '';\n  const isTransformed = !!src.match(/.webp\\/v1\\//);\n  return isWEBP(imageUri) && isTransformed;\n};\n\nconst imageIsAnimated = (uri: string, hasAnimation?: boolean) =>\n  getFileExtension(uri) === fileType.GIF ||\n  (getFileExtension(uri) === fileType.WEBP && hasAnimation);\n\nconst getMediaSizeQueryString = (media: MediaSizeQuery) => {\n  return Object.entries(media)\n    .filter(([_, value]) => value || value === 0)\n    .map(([key, value]) => `(${camelToKebab(key)}: ${value}px)`)\n    .join(' and ');\n};\n\nexport {\n  // TODO(ameerabuf) - move methods that are not custom-element logic to a more general image util lib\n  getMediaSizeQueryString,\n  getMediaUrlByContext,\n  getScreenHeight,\n  setStyle,\n  getImageComputedProperties,\n  getImageSrc,\n  isTransformedWEBP,\n  imageIsAnimated,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"gebRUR\"};","import * as React from 'react';\n\nimport type {\n  ImageTransformSource,\n  ImageTransformTarget,\n} from '@wix/image-kit';\nimport { getData } from '@wix/image-kit';\nimport {\n  getMediaUrlByContext,\n  getMediaSizeQueryString,\n} from './custom-element/utils';\nimport { camelToKebab } from './utils';\nimport styles from './imageNG.module.scss';\n\nimport type { ImageMedia, ImageNGProps } from './types';\n\n// TODO(ameerabuf) - in original comp these prefixes could be overriden by EnvConsts\nconst STATIC_MEDIA_URL = 'https://static.wixstatic.com/media/';\nconst MEDIA_ROOT_URL = 'https://static.wixstatic.com/';\n\nfunction getURL(image: ImageMedia, targetSize: number) {\n  if (!image.height || !image.width) {\n    return '';\n  }\n  let inverseAspectRatio = image.height / image.width;\n  // TODO(ameerabuf) - are those the same? seemed to be used as the same in other places..\n  const pixelAspectRatio = 1;\n  const devicePixelRatio = 1;\n\n  const src = Object.fromEntries(\n    (['width', 'height', 'name'] as (keyof ImageMedia)[])\n      .filter((key) => image[key])\n      .map((key) => [key, image[key]]),\n  ) as unknown as ImageTransformSource;\n\n  if (image.crop) {\n    const cropX = image.crop.x || 0;\n    const cropY = image.crop.y || 0;\n    const cropW = Math.min(\n      image.crop.width || image.width,\n      image.width - cropX,\n    );\n    const cropH = Math.min(\n      image.crop.height || image.height,\n      image.height - cropY,\n    );\n    inverseAspectRatio = cropH / cropW;\n\n    src.crop = {\n      x: cropX,\n      y: cropY,\n      width: cropW,\n      height: cropH,\n    };\n  }\n\n  src.id = image.uri;\n\n  const target: ImageTransformTarget = {\n    width: targetSize,\n    height: targetSize * inverseAspectRatio,\n    pixelAspectRatio,\n    alignment: 'center',\n    htmlTag: 'img',\n  };\n\n  const options = {\n    // TODO(ameerabuf) - implement filter and upscale?\n    // filters?: ImageTransformFiltersOption;\n    // upscaleMethod?: UpscaleMethod;\n    quality: image.quality,\n    hasAnimation: !!image.animated,\n    devicePixelRatio,\n  };\n\n  const { uri } = getData('fill', src, target, options);\n  return uri && getMediaUrlByContext(uri, STATIC_MEDIA_URL, MEDIA_ROOT_URL);\n}\n\nconst ImageNG: React.FC<ImageNGProps> = (props) => {\n  const { id, alt, sources, priority, decorative, role, dataset } = props;\n\n  if (!sources.length) {\n    return null;\n  }\n\n  const sourcesAttributes = sources.map(\n    ({ image, media, sizes, targetSizes }) => ({\n      sizes: sizes\n        .map(\n          (s) =>\n            `${s.media ? getMediaSizeQueryString(s.media) + ' ' : ''}${\n              s.size.value\n            }${s.size.type}`,\n        )\n        .join(', '),\n      srcset: targetSizes.map((s) => `${getURL(image, s)} ${s}w`).join(', '),\n      ...(media && { media: getMediaSizeQueryString(media) }),\n      width: Math.min(\n        image.crop?.width || image.width,\n        image.width - (image.crop?.x || 0),\n      ),\n      height: Math.min(\n        image.crop?.height || image.height,\n        image.height - (image.crop?.y || 0),\n      ),\n    }),\n  );\n\n  const defaultSource = sources[sources.length - 1];\n  const { image } = defaultSource!;\n  const fullSizeSrc = getURL(image, image.width);\n\n  const dataAttrs = dataset\n    ? Object.fromEntries(\n        Object.entries(dataset).map(([key, val]) => [\n          `data-${camelToKebab(key)}`,\n          val,\n        ]),\n      )\n    : {};\n\n  return (\n    <picture id={id} className={`${styles.image}`} {...dataAttrs}>\n      {sourcesAttributes.map(({ sizes, srcset, media, width, height }) => (\n        <source\n          key={`${id}-${media}`}\n          sizes={sizes}\n          srcSet={srcset}\n          media={media}\n          width={width}\n          height={height}\n        />\n      ))}\n      <style>\n        {[...sourcesAttributes]\n          .reverse()\n          .map(\n            ({\n              media,\n              width,\n              height,\n            }: {\n              media?: string;\n              width: number;\n              height: number;\n            }) =>\n              `${media ? `@media ${media} {` : ''}#${id}{--aspect-ratio: ${\n                width / height\n              };}${media ? '}' : ''}`,\n          )\n          .join(' ')}\n      </style>\n      <img\n        {...(priority === 'high'\n          ? { fetchpriority: 'high' }\n          : { loading: 'lazy' })}\n        {...(decorative && { 'aria-hidden': true })}\n        src={fullSizeSrc}\n        alt={decorative ? '' : alt}\n        role={role}\n        width={image.width}\n        height={image.height}\n      />\n    </picture>\n  );\n};\n\nexport { ImageNG };\n","import {\n  getScreenHeight,\n  setStyle,\n  getImageComputedProperties,\n  getImageSrc,\n  imageIsAnimated,\n} from './utils';\nimport type {\n  WixImageServices,\n  FittingType,\n  ImageInfo,\n  SourceSet,\n  WixImageMeasures,\n  WixImageDomNodes,\n  EnvConsts,\n} from '../types';\n\nconst MOBILE_SAFE_ADDRESSBAR_HEIGHT = 80;\n\nfunction getHeightOverride(\n  height: number,\n  mediaHeightOverrideType: WixImageMeasures['mediaHeightOverrideType'],\n) {\n  // on mobile, documentElement.clientHeight changes when scrolling, because of address bar collapsing.\n  // avoiding re-fetching image by returning the same height\n  return mediaHeightOverrideType === 'fixed' ||\n    mediaHeightOverrideType === 'viewport'\n    ? document.documentElement.clientHeight + MOBILE_SAFE_ADDRESSBAR_HEIGHT\n    : height;\n}\n\nfunction computeScaleOverrides(\n  imageStyle: Record<string, string>,\n  targetScale = 1,\n) {\n  return targetScale !== 1\n    ? {\n        ...imageStyle,\n        width: '100%',\n        height: '100%',\n      }\n    : imageStyle;\n}\n\n/**\n * compute specific overrides\n */\nfunction computeStyleOverrides(\n  mediaHeightOverrideType: WixImageMeasures['mediaHeightOverrideType'],\n  imageStyle: Record<string, string>,\n  displayMode: FittingType,\n  targetScale: number,\n  isResponsive: boolean,\n) {\n  // image scaling override\n  const styleWithScale = computeScaleOverrides(imageStyle, targetScale);\n  if (isResponsive) {\n    delete styleWithScale.height;\n    styleWithScale.width = '100%';\n  }\n  if (!mediaHeightOverrideType) {\n    return styleWithScale;\n  }\n  // siteBackground on mobile\n  const style: Record<string, string> = { ...styleWithScale };\n\n  if (displayMode === 'fill') {\n    style.position = 'absolute';\n    style.top = '0';\n  } else if (displayMode === 'fit') {\n    style.height = '100%';\n  }\n\n  if (mediaHeightOverrideType === 'fixed') {\n    // eliminates white gap when address bar is collapsing\n    style['will-change'] = 'transform';\n  }\n\n  // force image alignment to include top\n  if (style.objectPosition) {\n    style.objectPosition = (imageStyle.objectPosition as string).replace(\n      /(center|bottom)$/,\n      'top',\n    );\n  }\n\n  return style;\n}\n\nfunction getSourceSetsTargetHeightByEffect(\n  sourceSets: SourceSet[],\n  offsetWidth: number,\n  offsetHeight: number,\n  screenHeight: number,\n  services: WixImageServices,\n) {\n  const sourceSetsTargetHeights: { [key: string]: number } = {};\n  sourceSets.forEach(({ mediaQuery, scrollEffect }) => {\n    sourceSetsTargetHeights[mediaQuery] =\n      services.getMediaDimensionsByEffect?.(\n        scrollEffect,\n        offsetWidth,\n        offsetHeight,\n        screenHeight,\n      ).height || offsetHeight;\n  });\n  return sourceSetsTargetHeights;\n}\n\nfunction computeSrcSets(\n  measures: WixImageMeasures,\n  imageInfo: ImageInfo,\n  envConsts: EnvConsts,\n) {\n  const { sourceSets } = imageInfo;\n  if (!sourceSets || !sourceSets.length) {\n    return;\n  }\n\n  const mediaToUri: { [key: string]: string } = {};\n  sourceSets.forEach(({ mediaQuery, crop, focalPoint }) => {\n    const imageInfoClone = {\n      ...imageInfo,\n      targetHeight: (measures.sourceSetsTargetHeights || {})[mediaQuery] || 0,\n      imageData: {\n        ...imageInfo.imageData,\n        crop,\n        focalPoint,\n      },\n    };\n    const imageComputedProperties = getImageComputedProperties(\n      imageInfoClone,\n      envConsts,\n      'img',\n    );\n    mediaToUri[mediaQuery] = imageComputedProperties.uri || '';\n  });\n  return mediaToUri;\n}\n\nfunction measure(\n  id: string,\n  measures: WixImageMeasures,\n  domNodes: WixImageDomNodes,\n  {\n    containerElm,\n    bgEffect = 'none',\n    sourceSets,\n  }: {\n    containerElm: HTMLElement | undefined;\n    bgEffect?: string;\n    sourceSets?: SourceSet[];\n  },\n  services: WixImageServices,\n) {\n  const innerImage = domNodes.image as HTMLImageElement;\n  const wixImage = domNodes[id] as HTMLElement;\n  const screenHeight = getScreenHeight(services.getScreenHeightOverride?.());\n\n  // override positioning and scaling of image (SiteBackground mobile override behaviour)\n  const mediaHeightOverrideType = containerElm?.dataset\n    .mediaHeightOverrideType as\n    | WixImageMeasures['mediaHeightOverrideType']\n    | undefined;\n\n  const hasBgEffect =\n    (bgEffect && bgEffect !== 'none') ||\n    (sourceSets && sourceSets.some((srcset) => srcset.scrollEffect));\n  const sourceOfDimensions = (\n    containerElm && hasBgEffect ? containerElm : wixImage\n  ) as HTMLElement; // default to self\n  const cssBgEffect = window\n    .getComputedStyle(wixImage)\n    .getPropertyValue('--bg-scrub-effect');\n\n  const { width, height } = services.getMediaDimensionsByEffect?.(\n    cssBgEffect || bgEffect,\n    sourceOfDimensions.offsetWidth,\n    sourceOfDimensions.offsetHeight,\n    screenHeight,\n  ) || {\n    width: wixImage.offsetWidth,\n    height: wixImage.offsetHeight,\n  };\n  if (sourceSets) {\n    measures.sourceSetsTargetHeights = getSourceSetsTargetHeightByEffect(\n      sourceSets,\n      sourceOfDimensions.offsetWidth,\n      sourceOfDimensions.offsetHeight,\n      screenHeight,\n      services,\n    );\n  }\n\n  if (!innerImage) {\n    return;\n  }\n\n  const imgSrc = getImageSrc(innerImage);\n\n  if (cssBgEffect) {\n    measures.top = 0.5 * (wixImage.offsetHeight - height);\n    measures.left = 0.5 * (wixImage.offsetWidth - width);\n  }\n  measures.width = width;\n  measures.height = getHeightOverride(height, mediaHeightOverrideType);\n  measures.screenHeight = screenHeight;\n  measures.imgSrc = imgSrc;\n  measures.boundingRect = wixImage!.getBoundingClientRect();\n  measures.mediaHeightOverrideType = mediaHeightOverrideType;\n  measures.srcset = innerImage.srcset;\n}\n\nfunction patch(\n  id: string,\n  measures: WixImageMeasures,\n  domNodes: Record<string, HTMLElement | HTMLImageElement | null>,\n  imageInfo: ImageInfo,\n  envConsts: EnvConsts,\n  loadImage: boolean,\n  isResponsive: boolean,\n  bgEffect?: string,\n  loadImageImmediately?: boolean,\n) {\n  if (!Object.keys(measures).length) {\n    return;\n  }\n\n  const { imageData } = imageInfo;\n  const wixImageNode = domNodes[id] as HTMLElement;\n  const image = domNodes.image as HTMLImageElement;\n\n  // no retina scaling for background scroll effects\n  if (bgEffect) {\n    imageData.devicePixelRatio = 1;\n  }\n\n  const targetScale = imageInfo.targetScale || 1;\n\n  const extendedImageInfo = {\n    ...imageInfo,\n    ...(!imageInfo.skipMeasure && {\n      targetWidth: (measures.width || 0) * targetScale,\n      targetHeight: (measures.height || 0) * targetScale,\n    }),\n    displayMode: imageData.displayMode,\n  };\n\n  const imageComputedProperties = getImageComputedProperties(\n    extendedImageInfo,\n    envConsts,\n    'img',\n  );\n  const computedStyle =\n    (imageComputedProperties?.css as { img: {} })?.img || {};\n  const imageStyle = computeStyleOverrides(\n    measures.mediaHeightOverrideType,\n    computedStyle,\n    imageData.displayMode,\n    targetScale,\n    isResponsive,\n  );\n  setStyle(image, imageStyle);\n  if (measures.top || measures.left) {\n    setStyle(wixImageNode, {\n      top: `${measures.top}px`,\n      left: `${measures.left}px`,\n    });\n  }\n\n  const src = imageComputedProperties?.uri || '';\n  const hasAnimation = imageData?.hasAnimation || imageInfo?.hasAnimation;\n\n  const mediaToUri = computeSrcSets(measures, extendedImageInfo, envConsts);\n\n  if (loadImageImmediately) {\n    // flag that this image has been processed\n    image.dataset.ssrSrcDone = 'true';\n  }\n\n  if (\n    imageInfo.isLQIP &&\n    imageInfo.lqipTransition &&\n    !('transitioned' in wixImageNode.dataset)\n  ) {\n    wixImageNode.dataset.transitioned = '';\n\n    if (image.complete) {\n      image.onload = function () {\n        image.dataset.loadDone = '';\n      };\n    } else {\n      image.onload = function () {\n        if (image.complete) {\n          image.dataset.loadDone = '';\n        } else {\n          image.onload = function () {\n            image.dataset.loadDone = '';\n          };\n        }\n      };\n    }\n  }\n\n  if (loadImage) {\n    if (imageIsAnimated(imageData.uri, hasAnimation)) {\n      image.setAttribute('fetchpriority', 'low');\n      image.setAttribute('loading', 'lazy');\n      image.setAttribute('decoding', 'async');\n    } else {\n      image.setAttribute('fetchpriority', 'high');\n    }\n    image.currentSrc !== src && image.setAttribute('src', src);\n    const srcIsMissingFromSrcset =\n      measures.srcset &&\n      !measures.srcset\n        .split(', ')\n        .some((source) => source.split(' ')[0] === src);\n    if (srcIsMissingFromSrcset) {\n      image.setAttribute('srcset', src);\n    }\n    if (domNodes.picture && extendedImageInfo.sourceSets) {\n      Array.from(domNodes.picture.querySelectorAll('source')).forEach(\n        (sourceNode) => {\n          const mediaQuery = sourceNode.media || '';\n          const uri = mediaToUri?.[mediaQuery];\n          if (sourceNode.srcset !== uri) {\n            sourceNode.setAttribute('srcset', uri || '');\n          }\n        },\n      );\n    }\n  }\n}\n\nexport default {\n  measure,\n  patch,\n};\n","import { getImageSrc } from './utils';\nimport imageLayout from './imageLayout';\nimport type {\n  WixImageServices,\n  WixImageMeasures,\n  ImageInfo,\n  EnvConsts,\n} from '../types';\n\ntype Timeout = number;\n\nconst TIMEOUT = 250;\n\nconst imageEffectMap = {\n  parallax: 'ImageParallax',\n  fixed: 'ImageReveal',\n} as const;\n\nfunction wowImageFactory(\n  services: WixImageServices,\n  environmentConsts: EnvConsts,\n  contextWindow: Window & typeof globalThis,\n): any {\n  return class WowImage extends contextWindow.HTMLElement {\n    childListObserver: MutationObserver | null;\n    timeoutId: Timeout | null;\n\n    constructor() {\n      // eslint-disable-line no-useless-constructor\n      super();\n\n      this.childListObserver = null;\n      this.timeoutId = null;\n    }\n\n    attributeChangedCallback(_: string, oldValue: string) {\n      if (oldValue) {\n        this.reLayout();\n      }\n    }\n\n    connectedCallback() {\n      if (environmentConsts.disableImagesLazyLoading) {\n        this.reLayout();\n      } else {\n        this.observeIntersect();\n      }\n    }\n\n    disconnectedCallback() {\n      this.unobserveResize();\n      this.unobserveIntersect();\n      this.unobserveChildren();\n    }\n\n    static get observedAttributes() {\n      return ['data-image-info'];\n    }\n\n    reLayout() {\n      const domNodes: Record<string, HTMLElement | HTMLImageElement | null> =\n        {};\n      const measures: WixImageMeasures = {};\n      const imageId = this.getAttribute('id') as string;\n      const imageInfo: ImageInfo = JSON.parse(this.dataset.imageInfo || '');\n      const isResponsive = this.dataset.isResponsive === 'true';\n      const { bgEffectName } = this.dataset;\n      const { scrollEffect } = imageInfo.imageData;\n      const { sourceSets } = imageInfo;\n      const bgEffect =\n        bgEffectName || (scrollEffect && imageEffectMap[scrollEffect]);\n\n      if (sourceSets && sourceSets.length) {\n        sourceSets.forEach((sourceSet) => {\n          if (sourceSet.scrollEffect) {\n            sourceSet.scrollEffect =\n              imageEffectMap[\n                sourceSet.scrollEffect as keyof typeof imageEffectMap\n              ];\n          }\n        });\n      }\n\n      domNodes[imageId] = this;\n\n      if (imageInfo.containerId) {\n        domNodes[imageInfo.containerId] = contextWindow.document.getElementById(\n          `${imageInfo.containerId}`,\n        );\n      }\n      const containerElm = imageInfo.containerId\n        ? (domNodes[imageInfo.containerId] as HTMLElement)\n        : undefined;\n\n      domNodes.image = this.querySelector('img');\n      domNodes.picture = this.querySelector('picture');\n\n      if (!domNodes.image) {\n        // missing children, can't layout, wait for children to be created first\n        const target = this;\n        this.observeChildren(target);\n        return;\n      }\n\n      // clean up\n      this.unobserveChildren();\n\n      // from now on just observe changes to children of top level\n      this.observeChildren(this);\n\n      services.mutationService.measure(() => {\n        imageLayout.measure(\n          imageId,\n          measures,\n          domNodes,\n          {\n            containerElm,\n            bgEffect,\n            sourceSets,\n          },\n          services,\n        );\n      });\n\n      const patchImage = (\n        shouldLoadImage: boolean,\n        loadImageImmediately?: boolean,\n      ) => {\n        services.mutationService.mutate(() => {\n          imageLayout.patch(\n            imageId,\n            measures,\n            domNodes,\n            imageInfo,\n            environmentConsts,\n            shouldLoadImage,\n            isResponsive,\n            bgEffect,\n            loadImageImmediately,\n          );\n        });\n      };\n\n      const imageElement = domNodes.image as HTMLImageElement;\n\n      const ssrSrcNeedProcessing =\n        this.dataset.hasSsrSrc && !imageElement.dataset.ssrSrcDone;\n      // if image has no src or current src if from ssr render stage  -\n      // load the image immediately, otherwise - debounce the reload\n      const loadImageImmediately =\n        !getImageSrc(imageElement) || ssrSrcNeedProcessing;\n      if (loadImageImmediately) {\n        patchImage(true, true);\n      } else {\n        this.debounceImageLoad(patchImage);\n      }\n    }\n\n    /**\n     * Debounce consecutive image loads\n     *\n     * @param {function} patchImage closure for patching the image\n     */\n    debounceImageLoad(patchImage: (shouldLoad: boolean) => void) {\n      clearTimeout(this.timeoutId as Timeout);\n\n      this.timeoutId = contextWindow.setTimeout(() => {\n        patchImage(true);\n      }, TIMEOUT) as unknown as Timeout;\n\n      patchImage(false);\n    }\n\n    observeResize() {\n      services.resizeService?.observe(this);\n    }\n\n    unobserveResize() {\n      services.resizeService?.unobserve(this);\n    }\n\n    observeIntersect() {\n      services.intersectionService?.observe(this);\n    }\n\n    unobserveIntersect() {\n      services.intersectionService?.unobserve(this);\n    }\n\n    /**\n     * Observe DOM mutations to wait for addition of missing children\n     *\n     * @param {HTMLElement} parent\n     */\n    observeChildren(parent: HTMLElement) {\n      if (!this.childListObserver) {\n        this.childListObserver = new contextWindow.MutationObserver(() => {\n          this.reLayout();\n        });\n      }\n\n      this.childListObserver.observe(parent, { childList: true });\n    }\n\n    /**\n     * Remove DOM MutationObserver if one was created\n     */\n    unobserveChildren() {\n      if (this.childListObserver) {\n        this.childListObserver.disconnect();\n        this.childListObserver = null;\n      }\n    }\n  };\n}\n\nexport default wowImageFactory;\n","import init from './custom-element/registry';\nimport { WixImageExternalServices, EnvConsts } from './types';\n\nconst getDevicePixelRatio = () => {\n  const isMSMobileDevice = /iemobile/i.test(navigator.userAgent);\n\n  if (isMSMobileDevice) {\n    return Math.round(\n      window.screen.availWidth /\n        (window.screen.width || window.document.documentElement.clientWidth),\n    );\n  }\n\n  return window.devicePixelRatio;\n};\n\nconst STATIC_MEDIA_URL = 'https://static.wixstatic.com/media';\nconst MEDIA_ROOT_URL = 'https://static.wixstatic.com';\n\nfunction initCustomElement(\n  services: WixImageExternalServices = {},\n  contextWindow: (Window & typeof globalThis) | null = null,\n  envConsts: Partial<EnvConsts> = {} as Partial<EnvConsts>,\n) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  const env = {\n    staticMediaUrl: STATIC_MEDIA_URL,\n    mediaRootUrl: MEDIA_ROOT_URL,\n    experiments: {},\n    devicePixelRatio: getDevicePixelRatio(),\n    ...envConsts,\n  } as EnvConsts;\n\n  const define = init(contextWindow, services);\n\n  if (define) {\n    define(env);\n  }\n}\n\nexport { initCustomElement };\n","import wowImageFactory from './WowImage';\nimport fastdom from 'fastdom';\nimport type {\n  WixImageExternalServices,\n  WixImageServices,\n  WowImage,\n  EnvConsts,\n} from '../types';\n\nexport default function init(\n  contextWindow: (Window & typeof globalThis) | null,\n  services: WixImageExternalServices,\n) {\n  const elementName = 'wow-image';\n  contextWindow = contextWindow || window;\n\n  if (contextWindow.customElements.get(elementName) === undefined) {\n    let resizeObserver: ResizeObserver;\n\n    if (contextWindow.ResizeObserver) {\n      resizeObserver = new contextWindow.ResizeObserver(\n        (entries: ResizeObserverEntry[]) =>\n          entries.map((entry) => (entry.target as WowImage).reLayout()),\n      );\n    }\n\n    let intersectionObserver: IntersectionObserver;\n\n    if (contextWindow.IntersectionObserver) {\n      intersectionObserver = new IntersectionObserver(\n        (entries: IntersectionObserverEntry[]) =>\n          entries.map((entry) => {\n            if (entry.isIntersecting) {\n              const wowImage = entry.target as WowImage;\n              wowImage.unobserveIntersect();\n              // resize Observe will invoke relayout imidiatly.\n              // \"Observation will fire when observation starts if Element is being rendered, and Element’s size is not 0,0,\"\n              // https://drafts.csswg.org/resize-observer/#dom-resizeobserver-observe\n              wowImage.observeResize();\n            }\n            return entry;\n          }),\n        {\n          /**\n           * old: 50% from 1080 (desktop) is 540px, 800 (mobile) 400px\n           * new: 150% from 1080 (desktop) is 1620, 800 (mobile) 1200\n           * chrome [loading=lazy]: 4g - 1250px, lower then 3g - 2500px\n           * @see https://web.dev/articles/browser-level-image-lazy-loading#improved-thresholds\n           */\n          rootMargin: '150% 100%',\n        },\n      );\n    }\n\n    return function (env: EnvConsts) {\n      const WowImage = wowImageFactory(\n        {\n          resizeService: resizeObserver,\n          intersectionService: intersectionObserver,\n          mutationService: fastdom,\n          ...services,\n        } as WixImageServices,\n        env,\n        contextWindow!,\n      );\n      contextWindow!.customElements.define(elementName, WowImage);\n    };\n  }\n\n  return;\n}\n"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__883__","debug","raf","win","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","setTimeout","FastDom","reads","writes","bind","scheduleFlush","fastdom","scheduled","flush","error","length","runTasks","e","message","catch","remove","array","item","index","indexOf","splice","prototype","constructor","tasks","task","shift","measure","fn","ctx","push","mutate","clear","extend","props","Error","child","Object","create","target","source","key","hasOwnProperty","mixin","initialize","window","globalThis","toPropertyKey","r","t","defineProperty","value","enumerable","configurable","writable","__esModule","_extends","assign","n","arguments","call","apply","_typeof","Symbol","toPrimitive","i","TypeError","String","Number","o","iterator","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","d","a","definition","get","obj","prop","toStringTag","API_VERSION","MAX_DEVICE_PIXEL_RATIO","DSKTP_MAX_BG_SITE_LEGACY_WIDTH","DSKTP_MAX_BG_SITE_LEGACY_HEIGHT","MOBILE_MAX_BG_SITE_LEGACY_WIDTH","MOBILE_MAX_BG_SITE_LEGACY_HEIGHT","fittingTypes","SCALE_TO_FILL","SCALE_TO_FIT","STRETCH","ORIGINAL_SIZE","TILE","TILE_HORIZONTAL","TILE_VERTICAL","FIT_AND_TILE","LEGACY_STRIP_TILE","LEGACY_STRIP_TILE_HORIZONTAL","LEGACY_STRIP_TILE_VERTICAL","LEGACY_STRIP_SCALE_TO_FILL","LEGACY_STRIP_SCALE_TO_FIT","LEGACY_STRIP_FIT_AND_TILE","LEGACY_STRIP_ORIGINAL_SIZE","LEGACY_ORIGINAL_SIZE","LEGACY_FIT_WIDTH","LEGACY_FIT_HEIGHT","LEGACY_FULL","LEGACY_BG_FIT_AND_TILE","LEGACY_BG_FIT_AND_TILE_HORIZONTAL","LEGACY_BG_FIT_AND_TILE_VERTICAL","LEGACY_BG_NORMAL","transformTypes","FIT","FILL","FILL_FOCAL","CROP","LEGACY_CROP","LEGACY_FILL","alignTypes","CENTER","TOP","TOP_LEFT","TOP_RIGHT","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","RIGHT","ALIGN_TYPE_TO_FOCAL_POINT","x","y","alignTypesMap","center","top","top_left","top_right","bottom","bottom_left","bottom_right","left","right","htmlTag","BG","IMG","SVG","upscaleMethods","AUTO","CLASSIC","SUPER","upscaleMethodsValues","classic","super","defaultUSM","radius","amount","threshold","emptyData","uri","css","img","container","attr","transformed","SAFE_TRANSFORMED_AREA","MAX_TRANSFORMED_IMAGE_WIDTH","SUPER_UPSCALE_MODELS","imageScaleDefaults","HIGH","size","quality","maxUpscale","MEDIUM","LOW","TINY","imageQuality","imageFilters","CONTRAST","BRIGHTNESS","SATURATION","HUE","BLUR","fileType","JPG","JPEG","JPE","PNG","WEBP","WIX_ICO_MP","WIX_MP","GIF","AVIF","UNRECOGNIZED","encodingTypes","PAVIF","template","strings","_len","keys","Array","_key","_len2","values","_key2","dict","result","forEach","isInteger","join","last","SUPPORTED_IMAGE_EXTENSIONS","JPG_EXTENSIONS","isValidRequest","fittingType","src","url","id","trim","toLowerCase","includes","isImageTransformApplicable","hasAnimation","allowAnimatedTransform","isWEBP","isAVIF","canTransformIfAnimatedImage","getFileExtension","isImageTypeSupported","isGIF","isTransformableGIF","test","isPNG","ILLEGAL_CHARS","map","encodeURIComponent","URL_SAFE_ILLEGAL_CHARS","ILLEGAL_CHARS_REPLACEMENT","getFileType","isJPG","exec","getScaleFactor","sWidth","sHeight","dWidth","dHeight","transformType","scaleFactor","Math","max","getFillScaleFactor","min","getFitScaleFactor","getTransformData","dpr","upscaleMethod","width","height","dimensionScaleFactor","sqrt","getSafeTransformData","tWidth","tHeight","optimizedScaleFactor","upscaleMethodValue","forceUSM","imageKey","getImageQualityKey","getAutoScaleData","getSuperScaleData","getClassicScaleData","getOptimizedScaleData","cssUpscaleNeeded","getOptimizedTransformData","getAlignedRect","sRect","dRect","sFP","alignment","fp","getFocalPoint","getFocalPointFrom9GridAlignment","getAlignment","focalPoint","isNaN","roundToFixed","imageWidth","imageHeight","precision","truncatePrecision","pow","toFixed","getUpscaleString","options","toUpperCase","imageIsAnimated","isAvifWebpFormat","globalFeaturesSupportObj","isMobile","getFeature","feature","setFeature","populateGlobalFeatureSupport","navigator","isSmallScreen","matchMedia","matches","isMobileAgent","userAgent","getCSS","transformsObj","attributes","backgroundSize","backgroundRepeat","backgroundPosition","alignTypeToPositionStr","aligmentDefaults","position","alignType","parts","objectFit","objectPosition","verticalMiddle","round","horizontalMiddle","alignTypeToPosition","getSvgAttr","sourceWidth","sourceHeight","imageScale","preserveAspectRatio","transform","getDimension","middle","viewBox","setTransformParts","rect","crop","getOverlappingRect","isCropped","getCropPart","getFitPart","transformedData","devicePixelRatio","focalPointX","focalPointY","upscale","getFillPart","clonedTarget","getStretchPart","getLegacyCropPart","getLegacyFitPart","getLegacyFillPart","setTransformOptions","_options","isQualitySupported","transformData","defaultQuality","getQuality","progressive","getProgressive","watermark","getWatermark","autoEncode","encoding","unsharpMask","_options$unsharpMask","_options$unsharpMask2","_options$unsharpMask3","usm","isUSMValid","transformPart","isUSMNeeded","getUnsharpMask","filters","filterOptions","isValidImageFilter","getFilters","filterValue","minValue","maxValue","getTransform","_isSEOBot","isSEOBot","fileName","name","fileExtensionRegexp","illegalCharsRegex","RegExp","concat","extension","match","replace","trimmed","getFileName","pixelAspectRatio","getDevicePixelRatio","fileExtension","preferredExtension","canTransformImage","isAnimated","getTarget","targetObj","_isMobile","maxBGSiteLegacyWidth","maxBGSiteLegacyHeight","fitTemplate","fillTemplate","fillFocalTemplate","cropTemplate","legacyCropTemplate","legacyFillTemplate","upscaleTemplate","qualityTemplate","qualityAutoTemplate","unSharpMaskTemplate","nonProgressiveTemplate","watermarkTemplate","filterTemplatesMap","autoEncodeTemplate","AVIFEncodeTemplate","pAVIFEncodeTemplate","animatedTransformTemplate","getURI","transformObj","_options2","transformTarget","_transformsObj$src","transformsObjStrArr","legacyFillStr","fitStr","fillStr","fillFocalStr","transformsStr","filterName","getImageURI","ALIGN_TYPE_TO_POSITION","POSITION_TO_ALIGN_TYPE","entries","reduce","acc","_ref","align","TILE_FITTING_TYPES","NON_SCALING_FITTING_TYPES","getIsFakeTile","_ref2","targetWidth","targetHeight","validateTargetDimensions","_ref4","_width","heightRatio","getCSSOverrides","returnValue","alignTypeFromFocalPoint","convertFocalPointToAlignType","convertFillFocalToPosition","sW","sH","tW","tH","fpX","fpY","fillScaleFactor","imgScaledW","imgScaledH","floor","PLACEHOLDER_IMG_CSS_OVERRIDES","getPlaceholder","shouldLoadHQImage","IS_IN_PLACEHOLDER_FLOW","getData","useSrcset","newTarget","isFakeTile","scaledDimensions","_ref3","isScalable","isTile","_height","isHighQuality","getScaleFactorByWidth","getScaledDimensions","blur","getBlurValue","convertedFittingType","getConvertedFitting","overrideCSS","data","srcset","getSrcset","attributesGetter","backgroundAttributes","SVGAttributes","imgAttributes","getAttributes","wixStaticWithMedia","HAS_MEDIA_PREFIX_RE","getURL","baseHostURL","getWixStaticURL","WIDTHS","getSources","widthProportion","originalWidth","originalHeight","siteMargin","displayMode","hasOriginalSizeDisplayMode","originalAspectRatio","isLowestBreakpoint","getWidth","w","lowerBpWidth","currentBpWidth","manualCrop","targetAspectRatio","lowerWidth","bpWidth","getCropDataWithAlign","fallbackSrc","getResponsiveImageProps","sizes","media","imgStyle","imageProps","sources","filter","Boolean","reverse","_srcset$dpr","srcsetWithPrefix","s","STATIC_MEDIA_URL","sdk","getScaleToFitImageURL","relativeUrl","getScaleToFillImageURL","getCropImageURL","cropX","cropY","cropWidth","cropHeight","imageKit","fetchLQIP","placeholder","SCHEME_RE","Image","_ssrResult$css","containerId","alt","role","bgEffectName","className","imageStyles","targetScale","onLoad","onError","shouldUseLQIP","containerWidth","containerHeight","isInFirstFold","placeholderTransition","socialAttrs","skipMeasure","imageRef","React","hasSsrSrc","hasBlurTransition","ssrImageData","current","isLQIP","imageInfo","JSON","stringify","lqipTransition","imageData","ssrResult","placeholderStyle","classNames","styles","imgElement","currentSrc","complete","maxWidth","class","style","ref","srcSet","fetchpriority","loading","suppressHydrationWarning","camelToKebab","str","b","CSS_NUMERIC_VALUES","columnCount","columns","fontWeight","lineHeight","opacity","zIndex","zoom","pick","isArray","subObj","val","setStyle","node","styleProperties","styleProp","propValue","addDefaultUnitIfNeeded","toString","removeProperty","getImageComputedProperties","extendedImageInfo","envConsts","imageOptions","devicePixelRatioFromData","imageComputedProperties","getMediaUrlByContext","staticMediaUrl","mediaRootUrl","imageUri","path","_exec","devicePixelRatioQueryParam","location","search","split","query","find","_query$","getImageSrc","imageNode","getAttribute","getMediaSizeQueryString","_","image","targetSize","inverseAspectRatio","fromEntries","cropW","cropH","animated","ImageNG","priority","decorative","dataset","sourcesAttributes","_image$crop","_image$crop2","_image$crop3","_image$crop4","targetSizes","type","defaultSource","fullSizeSrc","dataAttrs","measures","domNodes","services","containerElm","bgEffect","sourceSets","innerImage","wixImage","screenHeight","getScreenHeightOverride","document","documentElement","clientHeight","innerHeight","mediaHeightOverrideType","hasBgEffect","some","scrollEffect","sourceOfDimensions","cssBgEffect","getComputedStyle","getPropertyValue","getMediaDimensionsByEffect","offsetWidth","offsetHeight","sourceSetsTargetHeights","mediaQuery","getSourceSetsTargetHeightByEffect","imgSrc","getHeightOverride","boundingRect","getBoundingClientRect","patch","loadImage","isResponsive","loadImageImmediately","_imageComputedPropert","wixImageNode","computedStyle","imageStyle","styleWithScale","computeScaleOverrides","computeStyleOverrides","mediaToUri","imageInfoClone","computeSrcSets","ssrSrcDone","transitioned","onload","loadDone","setAttribute","picture","from","querySelectorAll","sourceNode","imageEffectMap","parallax","fixed","environmentConsts","contextWindow","HTMLElement","_defineProperty","childListObserver","timeoutId","attributeChangedCallback","oldValue","reLayout","connectedCallback","disableImagesLazyLoading","observeIntersect","disconnectedCallback","unobserveResize","unobserveIntersect","unobserveChildren","observedAttributes","imageId","parse","sourceSet","getElementById","querySelector","observeChildren","mutationService","imageLayout","patchImage","shouldLoadImage","imageElement","ssrSrcNeedProcessing","debounceImageLoad","clearTimeout","observeResize","_services$resizeServi","resizeService","observe","_services$resizeServi2","unobserve","_services$intersectio","intersectionService","_services$intersectio2","parent","MutationObserver","childList","disconnect","screen","availWidth","clientWidth","MEDIA_ROOT_URL","initCustomElement","env","experiments","elementName","customElements","resizeObserver","intersectionObserver","ResizeObserver","entry","IntersectionObserver","isIntersecting","wowImage","rootMargin","WowImage","wowImageFactory","init"],"sourceRoot":""}