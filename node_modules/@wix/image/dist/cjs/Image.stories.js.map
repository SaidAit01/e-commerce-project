{"version":3,"names":["_react","_interopRequireDefault","require","_index","_Container","_args","_jsxFileName","openExperiments","urlParams","URLSearchParams","window","location","search","experimentsParam","get","split","forEach","experiment","push","initCustomElement","isExperimentOpen","experimentName","includes","_default","exports","default","title","component","Component","argTypes","CSRImage","args","alt","displayMode","containerId","name","containerHeight","containerWidth","isSEOBot","isInFirstFold","placeholderTransition","shouldUseLQIP","key","imagePresets","uri","width","height","createElement","Container","id","__self","__source","fileName","lineNumber","columnNumber","Image","_extends2","SEOImage","style","LazyLoadImage","uris","sharedProps","padding","Fragment","SSRImage","getPlaceholder","data","css","img","backgroundImage","placeholderImageUrl","backgroundSize","backgroundPosition","transformed","attr","src","container"],"sources":["../../src/Image.stories.tsx"],"sourcesContent":["import React from 'react';\nimport { Meta } from '@wix/yoshi-storybook-dependencies';\nimport { Image as Component, initCustomElement } from './index';\nimport { Container } from './storybook/Container';\nimport { ImageAttributesData, ImagePresets } from './types';\nimport { argTypes } from './storybook/args';\n\n// add here default open experiments\nconst openExperiments: string[] = [];\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst experimentsParam = urlParams.get('experiments');\n(experimentsParam?.split(',') || []).forEach((experiment) => {\n  openExperiments.push(experiment);\n});\n\ninitCustomElement({\n  isExperimentOpen: (experimentName: string) =>\n    openExperiments.includes(experimentName),\n});\n\nexport default {\n  title: 'Image',\n  component: Component,\n  argTypes,\n} as Meta;\n\nexport const CSRImage: React.VFC = (args: any) => {\n  const alt = 'Paints and Brush';\n  const displayMode = 'fill';\n  const containerId = 'container1';\n  const {\n    name,\n    containerHeight,\n    containerWidth,\n    isSEOBot,\n    isInFirstFold,\n    placeholderTransition,\n    shouldUseLQIP,\n  } = args;\n\n  const key = `${isSEOBot}-${isInFirstFold}-${placeholderTransition}-${shouldUseLQIP}`;\n\n  const imagePresets: ImagePresets = {\n    'Paints and Brush - 5000 * 2753': {\n      uri: '11062b_9c53b59db1dc4bd4ad7a47340f0594b4~mv2.jpg',\n      width: 5000,\n      height: 2763,\n    },\n    'Yellow Flower - 3333 * 5000': {\n      uri: '11062b_a1495416958849dd8682868426dd876b~mv2.jpg',\n      width: 3333,\n      height: 5000,\n    },\n    'Popsicles - 4912 * 7360': {\n      uri: '11062b_bdbc8112d5bd4e3988b694612ca6cfd3~mv2.jpg',\n      width: 4912,\n      height: 7360,\n    },\n    'Pattern - 300 * 300': {\n      uri: 'e17121a8be8c470ea2e2175c8e27f2ca.png',\n      width: 300,\n      height: 300,\n    },\n  };\n\n  const { uri, width, height } = imagePresets[name] || {};\n\n  return (\n    <Container id={containerId} width={containerWidth} height={containerHeight}>\n      <Component\n        key={key}\n        id=\"image0\"\n        containerId={containerId}\n        alt={alt}\n        name={name}\n        displayMode={displayMode}\n        uri={uri}\n        width={width}\n        height={height}\n        {...args}\n      />\n    </Container>\n  );\n};\n\nexport const SEOImage: React.VFC = () => {\n  const uri = '11062b_9c53b59db1dc4bd4ad7a47340f0594b4~mv2.jpg';\n  const alt = 'Paints and Brush';\n  const name = 'Paints and Brush';\n  const width = 5000;\n  const height = 2763;\n  const displayMode = 'fill';\n  const containerId = 'container1';\n\n  return (\n    <div id={containerId} style={{ width: 900, height: 600 }}>\n      <Component\n        id=\"image1\"\n        containerId={containerId}\n        uri={uri}\n        alt={alt}\n        name={name}\n        width={width}\n        height={height}\n        displayMode={displayMode}\n        isSEOBot={true}\n        shouldUseLQIP={true}\n      />\n    </div>\n  );\n};\n\nexport const LazyLoadImage: React.VFC = () => {\n  const uris = [\n    '11062b_9c53b59db1dc4bd4ad7a47340f0594b4~mv2.jpg',\n    '11062b_a1495416958849dd8682868426dd876b~mv2.jpg',\n    '11062b_bdbc8112d5bd4e3988b694612ca6cfd3~mv2.jpg',\n  ];\n\n  const containerId = 'lazyContainer';\n  const sharedProps = {\n    containerId,\n    alt: '',\n    width: 5000,\n    height: 2763,\n    displayMode: 'fill',\n    shouldUseLQIP: true,\n  } as const;\n\n  return (\n    <div style={{ height: '2000px', padding: '50px' }}>\n      <Container width={900} height={600} id=\"firstFold\">\n        <Component\n          {...sharedProps}\n          id=\"lazyImage\"\n          uri={uris[0] || ''}\n          height={600}\n          containerId=\"firstFold\"\n          isInFirstFold={true}\n        />\n      </Container>\n      <div style={{ height: '1500px' }}>\n        <p>Scroll down to load the image...</p>\n      </div>\n      <Container id={containerId} width={900} height={600}>\n        <>\n          <Component {...sharedProps} id=\"lazyImage2\" uri={uris[1] || ''} />\n          <div style={{ height: '500px' }} />\n          <Component {...sharedProps} id=\"lazyImage3\" uri={uris[2] || ''} />\n        </>\n      </Container>\n    </div>\n  );\n};\n\nexport const SSRImage: React.VFC = () => {\n  return (\n    <div style={{ height: '2000px', padding: '50px' }}>\n      <Container width={900} height={600} id=\"firstFold\">\n        <Component\n          alt=\"\"\n          width={5000}\n          height={2763}\n          displayMode=\"fill\"\n          shouldUseLQIP={true}\n          getPlaceholder={(data) => {\n            return {\n              css: {\n                img: {\n                  backgroundImage: `url(${data.placeholderImageUrl})`,\n                  backgroundSize: 'cover',\n                  backgroundPosition: 'center center',\n                },\n              },\n              transformed: true,\n              attr: {\n                img: {\n                  src: data.placeholderImageUrl,\n                  'data-src': data.src,\n                },\n                container: {\n                  src: data.src,\n                },\n              },\n            } satisfies ImageAttributesData;\n          }}\n          id=\"lazyImage\"\n          uri=\"11062b_9c53b59db1dc4bd4ad7a47340f0594b4~mv2.jpg\"\n          containerId=\"firstFold\"\n        />\n      </Container>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}