"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SignalsServiceFactory = void 0;
const signals_core_1 = require("@preact/signals-core");
const services_definitions_1 = require("@wix/services-definitions");
const signals_1 = require("@wix/services-definitions/core-services/signals");
exports.SignalsServiceFactory = (0, services_definitions_1.implementService)(signals_1.SignalsServiceDefinition, () => {
    return {
        signal: (initialValue) => {
            const sig = (0, signals_core_1.signal)(initialValue);
            const signal = {
                get: () => sig.value,
                set: (newValue) => (sig.value = newValue),
                peek: () => sig.peek(),
            };
            return signal;
        },
        computed: (fn) => {
            const sig = (0, signals_core_1.computed)(fn);
            const signal = {
                get: () => sig.value,
                peek: () => sig.peek(),
            };
            return signal;
        },
        effect: signals_core_1.effect,
    };
});
