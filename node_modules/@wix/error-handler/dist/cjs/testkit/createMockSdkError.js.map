{"version":3,"names":["createMockSdkError","response","overrides","status","body","message","headers","requestId","createMockSdkApplicationError","applicationError","_overrides$body","details","createMockSdkValidationError","validationError","_overrides$body2"],"sources":["../../../src/testkit/createMockSdkError.ts"],"sourcesContent":["import {\n  ApplicationError,\n  ErrorDetails,\n  ValidationError,\n} from '@wix/error-handler-core/types';\n\nexport type RouteResponseConfig = {\n  body?: {\n    message?: string;\n    details?: ErrorDetails;\n  };\n  status?: number;\n  headers?: {\n    [key: string]: string | undefined;\n  };\n  throws?: Error;\n  redirectUrl?: string;\n  options?: ResponseInit;\n};\n\nexport interface SdkErrorResponse {\n  message?: string;\n  status: number;\n  requestId?: string;\n}\n\nexport function createMockSdkError(\n  response: SdkErrorResponse,\n  overrides?: Partial<RouteResponseConfig>,\n): RouteResponseConfig {\n  return {\n    status: response.status,\n    body: {\n      message: response.message ?? 'MockSdkError',\n      ...overrides?.body,\n    },\n    headers: {\n      'x-wix-request-id': response.requestId,\n      ...overrides?.headers,\n    },\n    ...overrides,\n  };\n}\n\nexport function createMockSdkApplicationError(\n  applicationError: Partial<ApplicationError>,\n  response: SdkErrorResponse,\n  overrides?: Partial<RouteResponseConfig>,\n) {\n  return {\n    status: response.status,\n    body: {\n      message: response.message ?? 'MockSdkApplicationError',\n      details: {\n        applicationError,\n        ...overrides?.body?.details,\n      },\n    },\n    headers: {\n      'x-wix-request-id': response.requestId,\n      ...overrides?.headers,\n    },\n    ...overrides,\n  };\n}\n\nexport function createMockSdkValidationError(\n  validationError: Partial<ValidationError>,\n  response: SdkErrorResponse,\n  overrides?: Partial<RouteResponseConfig>,\n) {\n  return {\n    status: response.status,\n    body: {\n      message: response.message ?? 'MockSdkValidationError',\n      details: {\n        validationError,\n        ...overrides?.body?.details,\n      },\n    },\n    headers: {\n      'x-wix-request-id': response.requestId,\n      ...overrides?.headers,\n    },\n    ...overrides,\n  };\n}\n"],"mappings":";;;;;;AA0BO,SAASA,kBAAkBA,CAChCC,QAA0B,EAC1BC,SAAwC,EACnB;EACrB,OAAO;IACLC,MAAM,EAAEF,QAAQ,CAACE,MAAM;IACvBC,IAAI,EAAE;MACJC,OAAO,EAAEJ,QAAQ,CAACI,OAAO,IAAI,cAAc;MAC3C,IAAGH,SAAS,oBAATA,SAAS,CAAEE,IAAI;IACpB,CAAC;IACDE,OAAO,EAAE;MACP,kBAAkB,EAAEL,QAAQ,CAACM,SAAS;MACtC,IAAGL,SAAS,oBAATA,SAAS,CAAEI,OAAO;IACvB,CAAC;IACD,GAAGJ;EACL,CAAC;AACH;AAEO,SAASM,6BAA6BA,CAC3CC,gBAA2C,EAC3CR,QAA0B,EAC1BC,SAAwC,EACxC;EAAA,IAAAQ,eAAA;EACA,OAAO;IACLP,MAAM,EAAEF,QAAQ,CAACE,MAAM;IACvBC,IAAI,EAAE;MACJC,OAAO,EAAEJ,QAAQ,CAACI,OAAO,IAAI,yBAAyB;MACtDM,OAAO,EAAE;QACPF,gBAAgB;QAChB,IAAGP,SAAS,aAAAQ,eAAA,GAATR,SAAS,CAAEE,IAAI,qBAAfM,eAAA,CAAiBC,OAAO;MAC7B;IACF,CAAC;IACDL,OAAO,EAAE;MACP,kBAAkB,EAAEL,QAAQ,CAACM,SAAS;MACtC,IAAGL,SAAS,oBAATA,SAAS,CAAEI,OAAO;IACvB,CAAC;IACD,GAAGJ;EACL,CAAC;AACH;AAEO,SAASU,4BAA4BA,CAC1CC,eAAyC,EACzCZ,QAA0B,EAC1BC,SAAwC,EACxC;EAAA,IAAAY,gBAAA;EACA,OAAO;IACLX,MAAM,EAAEF,QAAQ,CAACE,MAAM;IACvBC,IAAI,EAAE;MACJC,OAAO,EAAEJ,QAAQ,CAACI,OAAO,IAAI,wBAAwB;MACrDM,OAAO,EAAE;QACPE,eAAe;QACf,IAAGX,SAAS,aAAAY,gBAAA,GAATZ,SAAS,CAAEE,IAAI,qBAAfU,gBAAA,CAAiBH,OAAO;MAC7B;IACF,CAAC;IACDL,OAAO,EAAE;MACP,kBAAkB,EAAEL,QAAQ,CAACM,SAAS;MACtC,IAAGL,SAAS,oBAATA,SAAS,CAAEI,OAAO;IACvB,CAAC;IACD,GAAGJ;EACL,CAAC;AACH","ignoreList":[]}